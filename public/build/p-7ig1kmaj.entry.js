import{r as s,h as t}from"./p-f5b6b644.js";import"./p-19ec51eb.js";import"./p-811a61b7.js";import{s as a}from"./p-c041151f.js";import{L as o}from"./p-9d50b311.js";import{A as i}from"./p-2351c48a.js";import{T as r}from"./p-2c007f74.js";const n=class{constructor(t){s(this,t),this.submitted=!1,this.errors=[]}async formSubmit(s){s.preventDefault();const t=a(this.form,{hash:!0,empty:!0});if(this.checkErrors(t),!this.errors.length){await o.showLoading();try{await i.updatePassword(t),r.success("Booking password has been updated")}catch(s){r.error(s.message)}await o.hideLoading()}}checkErrors(s){const t=[];["password","password2"].forEach(a=>{s[a]||t.push(a)}),s.password!==s.password2&&t.push("passwords-match"),this.errors=t}render(){return[t("admin-header",null),t("ion-content",{class:"page-admin-booking-settings"},t("h2",{class:"text-center"},"Booking Settings"),t("section",{class:"section"},t("form",{onSubmit:s=>this.formSubmit(s),ref:s=>this.form=s},t("div",{class:{input:!0,error:this.errors.includes("password")}},t("label",{htmlFor:"booking-password-change"},"Password"),t("input",{id:"booking-password-change",type:"password",class:"apt212-input block",name:"password"})),t("div",{class:{input:!0,error:this.errors.includes("password2")}},t("label",{htmlFor:"booking-password2-change"},"Password Again"),t("input",{id:"booking-password2-change",type:"password",class:"apt212-input block",name:"password2"})),this.errors.includes("passwords-match")?t("div",{class:"error"},"Passwords must match"):null,t("div",{class:"input"},t("input",{type:"submit",class:"button-dark block",value:"SUBMIT"})))))]}static get style(){return".page-admin-booking-settings .error{color:red;padding:0 0 25px}"}};export{n as page_admin_booking_settings};