import{r as t,h as i,d as s,j as h}from"./p-f5b6b644.js";const r=class{constructor(i){t(this,i),this.initialRender=!1}windowResize(){requestAnimationFrame(()=>{this.initialRender&&this.enforceRatio()})}getContainer(){return this.el.querySelector(".maintain-ratio")}currentWidth(){return this.getContainer().clientWidth}currentHeight(){return this.getContainer().clientHeight}componentDidLoad(){if(this.initialRender=!0,this.enforceRatio(),window&&window.ResizeObserver)new ResizeObserver(()=>{this.observe()}).observe(this.getContainer()),setTimeout(()=>this.enforceRatio(),100);else{let t=setInterval(()=>{this.enforceRatio()},250);setTimeout(()=>{clearInterval(t)},2e3)}}observe(){this.enforceRatio()}enforceRatio(){if(0===this.width||0===this.height)return;let t=this.currentWidth(),i=Math.round(t/(this.width/this.height));i&&(this.getContainer().style.height=`${i}px`)}render(){return i("div",{class:"maintain-ratio"},i("slot",null))}get el(){return s(this)}static get style(){return".maintain-ratio{width:100%}"}},e=class{constructor(i){t(this,i),this.rating=0,this.size=25,this.stars=5,this.color="#f3b445",this.readonly=!1,this._starCounter=new Array,this.rated=h(this,"rated",7)}componentWillLoad(){this.firstRun()}firstRun(){this.backupOriginalProps(),this.initializeInternalState()}backupOriginalProps(){this._initialRatingOriginal=this.rating,this._fontSizeOriginal=this.size,this._numberOfStarsOriginal=this.stars,this._colorOriginal=this.color,this._readonly=this.readonly}initializeInternalState(){this._fontSizeExpression=this.size.toString()+"px",this.currentRating=this.rating,this._starCounter=new Array(this.stars).fill(!0)}propsHaveChanged(){return!(this.rating===this._initialRatingOriginal&&this.size===this._fontSizeOriginal&&this.color===this._colorOriginal&&this.stars===this._numberOfStarsOriginal&&this.readonly===this._readonly)}componentDidLoad(){this.propsHaveChanged&&this.firstRun()}updateRating(t){this.readonly||(this.currentRating=t,this.rated.emit(t))}iconName(t){return this.currentRating-t>=0?"star":"star-outline"}getColor(t){return this.currentRating-t>=0?this.color:"#cdcdcd"}render(){return i("div",{class:"star-rating"},this._starCounter.map((t,s)=>i("ion-icon",{name:"star",onClick:()=>this.updateRating(s+1),style:{"font-size":this._fontSizeExpression,color:this.getColor(s+1)}})))}static get style(){return".star-rating{display:inline-block;white-space:nowrap}"}};export{r as maintain_ratio,e as star_rating};