var __awaiter=this&&this.__awaiter||function(e,r,t,n){function s(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function i(e){try{u(n["throw"](e))}catch(e){a(e)}}function u(e){e.done?t(e.value):s(e.value).then(o,i)}u((n=n.apply(e,r||[])).next())}))};var __generator=this&&this.__generator||function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:i(0),throw:i(1),return:i(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function i(e){return function(r){return u([e,r])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(t)try{if(n=1,s&&(a=o[0]&2?s["return"]:o[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,o[1])).done)return a;if(s=0,a)o=[o[0]&2,a.value];switch(o[0]){case 0:case 1:a=o;break;case 4:t.label++;return{value:o[1],done:false};case 5:t.label++;s=o[1];o=[0];continue;case 7:o=t.ops.pop();t.trys.pop();continue;default:if(!(a=t.trys,a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){t=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){t.label=o[1];break}if(o[0]===6&&t.label<a[1]){t.label=a[1];a=o;break}if(a&&t.label<a[2]){t.label=a[2];t.ops.push(o);break}if(a[2])t.ops.pop();t.trys.pop();continue}o=r.call(e,t)}catch(e){o=[6,e];s=0}finally{n=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-32fd337e.system.js"],(function(e){"use strict";var r;return{setters:[function(e){r=e.A}],execute:function(){var t=function(){function e(){}e.prototype.getDashboardCounts=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,n;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,3,,4]);return[4,fetch(r.getAPIUrl()+"/admin/dashboard_counts",{headers:r.getHeaders()})];case 1:e=s.sent();if(!e.ok){if(e.status===401){throw new Error("You have been logged out.  Please log in an try again")}throw new Error(e.statusText)}return[4,e.json()];case 2:t=s.sent();return[2,t];case 3:n=s.sent();throw new Error(n.message);case 4:return[2]}}))}))};e.prototype.getListings=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,s;return __generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,3,,4]);t=encodeURIComponent(JSON.stringify(Object.assign({},e)));return[4,fetch(r.getAPIUrl()+"/admin/listings?params="+t,{headers:r.getHeaders()})];case 1:n=a.sent();if(!n.ok){if(n.status===401){throw new Error("You have been logged out.  Please log in an try again")}throw new Error(n.statusText)}return[4,n.json()];case 2:return[2,a.sent()];case 3:s=a.sent();throw new Error(s.message);case 4:return[2]}}))}))};e.prototype.updateListing=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,s;return __generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,3,,4]);return[4,fetch(r.getAPIUrl()+("/admin/apartments/"+e.id),{method:"PATCH",body:JSON.stringify(e),headers:r.getHeaders()})];case 1:t=a.sent();if(!t.ok){if(t.status===401){throw new Error("You have been logged out.  Please log in an try again")}throw new Error(t.statusText)}return[4,t.json()];case 2:n=a.sent();return[2,n.access_token];case 3:s=a.sent();throw new Error(s.message);case 4:return[2]}}))}))};e.prototype.getAptOwners=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,3,,4]);return[4,fetch(r.getAPIUrl()+"/admin/apt-owners",{headers:r.getHeaders()})];case 1:e=n.sent();if(!e.ok){if(e.status===401){throw new Error("You have been logged out.  Please log in an try again")}throw new Error(e.statusText)}return[4,e.json()];case 2:return[2,n.sent()];case 3:t=n.sent();throw new Error(t.message);case 4:return[2]}}))}))};e.prototype.updateOwnerGlobal=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,s;return __generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,3,,4]);if(!e.owner_name){throw new Error("Owner Name is required")}t=encodeURIComponent(e.owner_name);return[4,fetch(r.getAPIUrl()+("/admin/owner-global/"+t),{method:"POST",headers:r.getHeaders(),body:JSON.stringify(e)})];case 1:n=a.sent();if(!n.ok){if(n.status===401){throw new Error("You have been logged out.  Please log in an try again")}throw new Error(n.statusText)}return[4,n.json()];case 2:return[2,a.sent()];case 3:s=a.sent();throw new Error(s.message);case 4:return[2]}}))}))};e.prototype.getOwnerStats=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,s;return __generator(this,(function(a){switch(a.label){case 0:t=encodeURIComponent(e);a.label=1;case 1:a.trys.push([1,4,,5]);return[4,fetch(r.getAPIUrl()+("/admin/owner-global/"+t),{headers:r.getHeaders()})];case 2:n=a.sent();if(!n.ok){if(n.status===401){throw new Error("You have been logged out.  Please log in an try again")}throw new Error(n.statusText)}return[4,n.json()];case 3:return[2,a.sent()];case 4:s=a.sent();throw new Error(s.message);case 5:return[2]}}))}))};e.prototype.getAgents=function(){return __awaiter(this,void 0,void 0,(function(){var e,t;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,3,,4]);return[4,fetch(r.getAPIUrl()+"/admin/agents",{headers:r.getHeaders()})];case 1:e=n.sent();if(!e.ok){if(e.status===401){throw new Error("You have been logged out.  Please log in an try again")}throw new Error(e.statusText)}return[4,e.json()];case 2:return[2,n.sent()];case 3:t=n.sent();throw new Error(t.message);case 4:return[2]}}))}))};e.prototype.getAgent=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(s){switch(s.label){case 0:s.trys.push([0,3,,4]);return[4,fetch(r.getAPIUrl()+"/admin/agent/"+e,{headers:r.getHeaders()})];case 1:t=s.sent();if(!t.ok){throw new Error(t.statusText)}return[4,t.json()];case 2:return[2,s.sent()];case 3:n=s.sent();throw new Error(n.message);case 4:return[2]}}))}))};e.prototype.updateAgent=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,s,a,o,i;return __generator(this,(function(u){switch(u.label){case 0:t=e.hasOwnProperty("id")&&e.id?"PATCH":"POST";n=e.hasOwnProperty("id")&&e.id?r.getAPIUrl()+"/admin/agent/"+e.id:r.getAPIUrl()+"/admin/agent";u.label=1;case 1:u.trys.push([1,4,,5]);return[4,fetch(n,{headers:r.getHeaders(),method:t,body:JSON.stringify(e)})];case 2:s=u.sent();return[4,s.json()];case 3:a=u.sent();if(!s.ok){if(a&&a.errors){o=[];Object.keys(a.errors).forEach((function(e){return o.push(a.errors[e][0])}));throw new Error(o.join("\n"))}if(a&&a.message){throw new Error(a.message)}throw new Error(s.statusText)}return[2,a];case 4:i=u.sent();throw new Error(i.message);case 5:return[2]}}))}))};e.prototype.deleteAgent=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,s;return __generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,3,,4]);return[4,fetch(r.getAPIUrl()+"/admin/agents/"+e,{headers:r.getHeaders(),method:"DELETE"})];case 1:t=a.sent();return[4,t.json()];case 2:n=a.sent();if(!t.ok){if(n&&n.errors){return[2,{success:false,errors:n.errors}]}if(n&&n.message){throw new Error(n.message)}throw new Error(t.statusText)}return[2,{success:true}];case 3:s=a.sent();throw new Error(s.message);case 4:return[2]}}))}))};e.prototype.getReferrals=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,s;return __generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,3,,4]);t=encodeURIComponent(JSON.stringify(Object.assign({},e)));return[4,fetch(r.getAPIUrl()+"/admin/referrals?params="+t,{headers:r.getHeaders()})];case 1:n=a.sent();if(!n.ok){if(n.status===401){throw new Error("You have been logged out.  Please log in an try again")}throw new Error(n.statusText)}return[4,n.json()];case 2:return[2,a.sent()];case 3:s=a.sent();throw new Error(s.message);case 4:return[2]}}))}))};e.prototype.deleteReferral=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,s;return __generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,3,,4]);return[4,fetch(r.getAPIUrl()+"/admin/referral/"+e,{headers:r.getHeaders(),method:"DELETE"})];case 1:t=a.sent();return[4,t.json()];case 2:n=a.sent();if(!t.ok){if(n&&n.errors){return[2,{success:false,errors:n.errors}]}if(n&&n.message){throw new Error(n.message)}throw new Error(t.statusText)}return[2,{success:true}];case 3:s=a.sent();throw new Error(s.message);case 4:return[2]}}))}))};return e}();var n=e("A",new t)}}}));