var __awaiter=this&&this.__awaiter||function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function a(t){try{o(i.next(t))}catch(t){r(t)}}function u(t){try{o(i["throw"](t))}catch(t){r(t)}}function o(t){t.done?n(t.value):s(t.value).then(a,u)}o((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(t){return function(e){return o([t,e])}}function o(a){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(r=a[0]&2?s["return"]:a[0]?s["throw"]||((r=s["return"])&&r.call(s),0):s.next)&&!(r=r.call(s,a[1])).done)return r;if(s=0,r)a=[a[0]&2,r.value];switch(a[0]){case 0:case 1:r=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;s=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){n.label=a[1];break}if(a[0]===6&&n.label<r[1]){n.label=r[1];r=a;break}if(r&&n.label<r[2]){n.label=r[2];n.ops.push(a);break}if(r[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(t){a=[6,t];s=0}finally{i=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-c9001ae9.system.js","./p-69f5d316.system.js","./p-32fd337e.system.js","./p-57233c53.system.js","./p-a55517c8.system.js","./p-f1f8d54f.system.js","./p-2a28951d.system.js","./p-94e7dad5.system.js"],(function(t){"use strict";var e,n,i,s,r,a,u,o,c;return{setters:[function(t){e=t.r;n=t.j;i=t.c;s=t.h},function(){},function(){},function(t){r=t.a},function(t){a=t.R},function(t){u=t.s},function(t){o=t.T},function(t){c=t.A}],execute:function(){var l=t("page_admin_agent_edit",function(){function t(t){e(this,t);this.isLoggedIn=false;this.isAdmin=false;this.loaded=false;this.submitting=false;this.agents=[];this.success=n(this,"success",7);this.store=i(this,"store")}t.prototype.componentWillLoad=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(n){switch(n.label){case 0:this.store.mapStateToProps(this,(function(t){return{isLoggedIn:r.isLoggedIn(t),isAdmin:r.isAdmin(t)}}));if(!this.isLoggedIn){a.forward("/login")}else{if(!this.isAdmin){a.forward("/")}}n.label=1;case 1:n.trys.push([1,4,,5]);if(!this.agentId)return[3,3];return[4,c.getAgent(this.agentId)];case 2:t=n.sent();if(t.id===this.agentId){this.item=t;this.loaded=true}n.label=3;case 3:return[3,5];case 4:e=n.sent();this.loaded=true;return[3,5];case 5:return[2]}}))}))};t.prototype.onSubmit=function(t){return __awaiter(this,void 0,void 0,(function(){var e,n,i;return __generator(this,(function(s){switch(s.label){case 0:t.preventDefault();this.submitting=true;e=u(this.form,{hash:true,empty:true});s.label=1;case 1:s.trys.push([1,3,,4]);return[4,c.updateAgent(e)];case 2:n=s.sent();this.submitting=false;o.success("Agent has been saved");this.success.emit(n);a.reload("/admin/agents");return[3,4];case 3:i=s.sent();o.error(i.message);this.submitting=false;return[3,4];case 4:return[2]}}))}))};t.prototype.render=function(){var t=this;return[s("div",{class:"agent-wrapper"},s("div",{class:"agent-edit-form-component"},s("form",{onSubmit:function(e){return t.onSubmit(e)},ref:function(e){return t.form=e}},s("fieldset",null,s("h3",null,"Agent Information"),s("div",{class:"fieldset-inputs address"},s("input",{type:"hidden",name:"id",value:this.item?this.item.id:""}),s("div",{class:"input"},s("label",{htmlFor:"owner-name"},"Agent Name"),s("input",{id:"owner-name",name:"name",class:"apt212-input block",value:this.item?this.item.name:""})),s("div",{class:"input"},s("label",{htmlFor:"address"},"Agent Email"),s("input",{id:"address",name:"email",class:"apt212-input block",value:this.item?this.item.email:""})))),s("input",{type:"submit",class:"button-dark",value:"Save",disabled:this.submitting}))))]};Object.defineProperty(t,"style",{get:function(){return".agent-edit-form-component{width:1344px;margin:auto}.agent-edit-form-component .action-button{margin-bottom:16px}.agent-edit-form-component .fieldset-inputs label{display:block;font-weight:700}.agent-edit-form-component .fieldset-inputs.address{display:grid;gap:8px;-ms-flex-align:center;align-items:center;grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}.agent-edit-form-component .fieldset-inputs.features{display:grid;gap:8px;-ms-flex-align:center;align-items:center;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.agent-edit-form-component .fieldset-inputs.subways{display:grid;gap:8px;-ms-flex-align:center;align-items:center;grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}.agent-edit-form-component .fieldset-inputs.subways button{border:1px solid #000;padding-top:4px;padding-bottom:4px}.agent-edit-form-component .fieldset-inputs.subways button.selected{background-color:#057365}.agent-edit-form-component .fieldset-inputs.subways button img{background-color:#fff;border-radius:50%}.agent-edit-form-component .fieldset-inputs.amenities{display:grid;gap:8px;-ms-flex-align:center;align-items:center;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.agent-edit-form-component .fieldset-inputs.amenities button{border:1px solid #000;padding-top:4px;padding-bottom:4px}.agent-edit-form-component .fieldset-inputs.amenities button.selected{background-color:#057365;color:#fff}.agent-edit-form-component .fieldset-inputs.amenities button img{width:30px;height:30px;padding:3px;background-color:#fff;border-radius:6px;vertical-align:middle;-o-object-fit:contain;object-fit:contain}.agent-edit-form-component .monthly-rates-wrapper{width:100%;overflow-x:auto}.agent-edit-form-component .monthly-rates .monthly-rate{min-width:75px}.agent-edit-form-component .monthly-rates thead td{text-align:center;font-weight:700}.agent-edit-form-component .monthly-rates td{vertical-align:middle;padding-bottom:4px}.agent-edit-form-component .monthly-rates td input.apt212-input{margin:0}.agent-edit-form-component .monthly-rates .label{white-space:nowrap;padding-right:4px;font-weight:700}.agent-edit-form-component .block-date{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-top:16px}.agent-edit-form-component .block-date button{padding-top:3px;margin-left:16px;font-size:18px}.agent-edit-form-component .block-date-input{padding-top:16px}.agent-edit-form-component .block-date-input .input{display:inline-block;padding-right:16px}.agent-edit-form-component .errors{padding-top:8px;padding-bottom:8px;color:red}"},enumerable:true,configurable:true});return t}())}}}));