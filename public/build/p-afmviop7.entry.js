import{r as s,c as t,h as i}from"./p-f5b6b644.js";import"./p-19ec51eb.js";import"./p-811a61b7.js";import{a as o}from"./p-5444f5ad.js";import{R as a}from"./p-9d127c97.js";import{T as n}from"./p-2c007f74.js";import{A as e}from"./p-5908b5da.js";const r=class{constructor(i){s(this,i),this.isAdmin=!1,this.isLoggedIn=!1,this.loaded=!1,this.store=t(this,"store")}componentWillLoad(){this.store.mapStateToProps(this,s=>({isLoggedIn:o.isLoggedIn(s),isAdmin:o.isAdmin(s)})),this.isLoggedIn?this.isAdmin||a.forward("/"):a.forward("/login",{logout:!0})}componentDidLoad(){e.getDashboardCounts().then(s=>{this.counts=s,this.loaded=!0}).catch(s=>{n.error(s.message)})}render(){return[i("admin-header",null),i("ion-content",{class:"page-admin"},i("h2",{class:"text-center"},"Admin Dashboard"),i("section",{class:"section"},this.loaded?i("div",{class:"dashboard"},this.counts.map(s=>i("div",{class:"count-block"},i("div",{class:"count"},s.count),i("div",{class:"title"},s.title)))):i("div",{class:"text-center"},i("ion-spinner",{name:"lines"}))))]}static get style(){return".page-admin .dashboard{display:grid;grid-template-columns:1fr 1fr}.page-admin .dashboard .count-block{border:1px solid #000;border-radius:6px;background-color:#fcfcfc;padding:16px;margin:16px;text-align:center}.page-admin .dashboard .count-block .count{font-size:32px;color:#057365}"}};export{r as page_admin};