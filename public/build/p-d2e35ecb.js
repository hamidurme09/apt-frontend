import{A as t}from"./p-811a61b7.js";import{a as r}from"./p-08706a58.js";const e=new class{async getApartment(r){try{let e=await fetch(t.getAPIUrl()+"/apartments/"+r,{headers:t.getHeaders()});if(!e.ok)throw new Error(e.statusText);return await e.json()}catch(t){throw new Error(t.message)}}async getApartments(r){const e=r.map(t=>`ids[]=${t}`).join("&");try{let r=await fetch(t.getAPIUrl()+"/apartments/list?"+e,{headers:t.getHeaders()});if(!r.ok)throw new Error(r.statusText);return await r.json()}catch(t){throw new Error(t.message)}}async updateApt(r){const e=r.hasOwnProperty("id")&&r.id?"PATCH":"POST",a=r.hasOwnProperty("id")&&r.id?`${t.getAPIUrl()}/apartments/${r.id}`:`${t.getAPIUrl()}/apartments`;try{let o=await fetch(a,{headers:t.getHeaders(),method:e,body:JSON.stringify(r)});const n=await o.json();if(!o.ok){if(n&&n.errors){const t=[];throw Object.keys(n.errors).forEach(r=>t.push(n.errors[r][0])),new Error(t.join("\n"))}if(n&&n.message)throw new Error(n.message);throw new Error(o.statusText)}return n}catch(t){throw new Error(t.message)}}async deleteApt(r){try{let e=await fetch(`${t.getAPIUrl()}/apartments/${r}`,{headers:t.getHeaders(),method:"DELETE"});const a=await e.json();if(!e.ok){if(a&&a.errors)return{success:!1,errors:a.errors};if(a&&a.message)throw new Error(a.message);throw new Error(e.statusText)}return{success:!0}}catch(t){throw new Error(t.message)}}async getBookingDetails(e,a,o,n){const s="checkindate="+encodeURIComponent(r(a,"m/d/Y"))+"&checkoutdate="+encodeURIComponent(r(o,"m/d/Y"))+"&guests="+encodeURIComponent(n);try{let r=await fetch(t.getAPIUrl()+`/apartments/booking_details/${e}?`+s,{headers:t.getHeaders()});if(!r.ok){const t=await r.json();if(t&&t.error)throw new Error(t.error);throw new Error(r.statusText)}return await r.json()}catch(t){throw new Error(t.message)}}};export{e as A};