import{r as s,c as i,h as t,H as o,d as e}from"./p-f5b6b644.js";import"./p-1ba263c2.js";import"./p-5628850f.js";import{w as n}from"./p-a98ad3e7.js";import{a,r as l}from"./p-2e71a8a9.js";const c=class{constructor(t){s(this,t),this.view="booking",this.store=i(this,"store")}componentWillLoad(){this.store.mapStateToProps(this,s=>({wishlist:n.getWishlist(s)})),this.store.mapDispatchToProps(this,{addToWishlist:a,removeFromWishlist:l})}toggleWishlist(){this.wishlist.includes(this.item.id)?this.removeFromWishlist([this.item.id]):this.addToWishlist([this.item.id])}closeModal(){if("booking"!==this.view)return void this.setView("booking");const s=this.el.closest("ion-modal");s&&s.dismiss()}setView(s){this.view=s}showGuestInput(){const s=Object.assign(document.createElement("apt212-popover"),{component:"input-booking-guests",componentProps:{item:this.item},animateSrc:"none",styleOverride:{top:"288px",left:"0",width:"100%",zIndex:"1",border:"1px solid black",transform:"none"}});this.el.querySelector(".booking-start").appendChild(s)}render(){return t(o,null,t("ion-content",null,t("div",{class:"mobile-booking-modal-component"},t("div",{class:"modal-nav"},"booking"!==this.view?t("button",{"aria-label":"Back",class:"close button-reset",onClick:()=>this.closeModal()},t("img",{src:"/assets/images/icons/arrow.svg",class:"back"})):null,t("div",{class:"flex-spacer"}),t("button",{"aria-label":"close",class:"close button-reset",onClick:()=>this.closeModal()},t("img",{src:"/assets/images/icons/cancel.svg"}))),"booking"===this.view?t("div",{class:"booking-start"},t("booking-mobile-body",{item:this.item,onSetViewEvent:s=>this.setView(s.detail),onShowGuestInput:()=>this.showGuestInput()})):null,"share"===this.view?t("share-listing",{items:[this.item]}):null,"checkinInput"===this.view?t("div",{class:"checkin-input"},t("div",{class:"title"},"Check In Date"),t("input-booking-date",{item:this.item,type:"checkin",calendarSize:1.5})):null,"checkoutInput"===this.view?t("div",{class:"checkin-input"},t("div",{class:"title"},"Check Out Date"),t("input-booking-date",{item:this.item,type:"checkout",calendarSize:1.5})):null,"bookingDetails"===this.view?t("div",{class:"booking-details"},t("booking-details",{item:this.item})):null,"seasonalRates"===this.view?t("seasonal-rates",{item:this.item}):null)),"booking"===this.view?t("ion-footer",{class:"no-footer-border"},t("ion-toolbar",null,t("div",{class:"mobile-wishlist-share"},t("button",{"aria-label":"Add to wishlist",class:"button-reset has-icon",onClick:()=>this.toggleWishlist()},t("img",{src:"/assets/images/icons/heart_icon.svg",class:"wishlist-icon"})," ",this.wishlist.includes(this.item.id)?"Remove from wishlist":"Add to wishlist"),t("div",{class:"flex-spacer"}),t("button",{"aria-label":"Share listing",class:"button-reset has-icon",onClick:()=>this.setView("share")},t("img",{src:"/assets/images/icons/share.svg",class:"share-icon"})," Share")))):null)}get el(){return e(this)}static get style(){return".mobile-booking-modal-component{position:relative;padding:16px;width:100%}.mobile-booking-modal-component .modal-nav{display:-ms-flexbox;display:flex}.mobile-booking-modal-component .modal-nav img{width:24px}.mobile-booking-modal-component .modal-nav img.back{width:28px}.mobile-booking-modal-component input-booking-date{display:block;margin:-16px}.mobile-booking-modal-component .checkin-input .title{font-size:24px;font-weight:700;text-align:center;margin-top:54px;margin-bottom:32px}.mobile-booking-modal-component .booking-start{position:relative}.mobile-wishlist-share{background-color:#fff;width:100%;padding:15px 20px;display:-ms-flexbox;display:flex}.mobile-wishlist-share button{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;font-size:20px;white-space:nowrap;cursor:pointer}.mobile-wishlist-share button img{margin-right:1rem;width:18px}.mobile-wishlist-share button img.share-icon{width:15px}"}};export{c as mobile_booking_modal};