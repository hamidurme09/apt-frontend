var __awaiter=this&&this.__awaiter||function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function r(t){try{l(i["throw"](t))}catch(t){o(t)}}function l(t){t.done?n(t.value):s(t.value).then(a,r)}l((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,a;return a={next:r(0),throw:r(1),return:r(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return l([t,e])}}function l(a){if(i)throw new TypeError("Generator is already executing.");while(n)try{if(i=1,s&&(o=a[0]&2?s["return"]:a[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,a[1])).done)return o;if(s=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;s=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(t){a=[6,t];s=0}finally{i=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-c9001ae9.system.js","./p-53678cca.system.js","./p-69f5d316.system.js","./p-32fd337e.system.js","./p-50f9a219.system.js","./p-705c24f4.system.js","./p-5ad401ce.system.js","./p-31ef4823.system.js","./p-91aa36d2.system.js","./p-88563aa0.system.js","./p-5927ec0e.system.js"],(function(t){"use strict";var e,n,i,s,o,a,r,l,c,u,h,d,f,p,m;return{setters:[function(t){e=t.r;n=t.c;i=t.h},function(){},function(t){s=t.E},function(){},function(){},function(t){o=t.S},function(t){a=t.b;r=t.c;l=t.a;c=t.f},function(t){u=t.a;h=t.c;d=t.b},function(t){f=t.s},function(t){p=t.t},function(t){m=t.A}],execute:function(){var g=t("page_listing",function(){function t(t){e(this,t);this.loaded=false;this.taxonomyLoaded=false;this.searchResults=[];this.item=null;this.store=n(this,"store")}t.prototype.componentWillLoad=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n,i;var l=this;return __generator(this,(function(c){switch(c.label){case 0:this.store.mapStateToProps(this,(function(t){return{searchResults:f.getListings(t),taxonomyLoaded:p.getTaxonomyLoaded(t)}}));this.store.mapDispatchToProps(this,{bookingSetCheckin:u,bookingSetCheckout:h,bookingSetGuests:d});t=s.getInstance().get("BASE_URL")+"/404";e=this.searchResults.find((function(t){return t.id===l.apartmentId}));if(!e)return[3,1];this.item=e;this.loaded=true;return[3,4];case 1:c.trys.push([1,3,,4]);return[4,m.getApartment(this.apartmentId)];case 2:n=c.sent();if(n&&n.hasOwnProperty("id")&&n.id===this.apartmentId){this.item=n;this.loaded=true;t=s.getInstance().get("BASE_URL")+this.item.url_path}return[3,4];case 3:i=c.sent();this.loaded=true;return[3,4];case 4:o.setCanonical(t);if(a("checkin")){this.bookingSetCheckin(this.apartmentId,r(a("checkin")))}if(a("checkout")){this.bookingSetCheckout(this.apartmentId,r(a("checkout")))}if(a("guests")){this.bookingSetGuests(this.apartmentId,a("guests"))}return[2]}}))}))};t.prototype.showMobileBookingDetails=function(){var t=Object.assign(document.createElement("ion-modal"),{component:"mobile-booking-modal",cssClass:"mobile-booking-modal",componentProps:{item:this.item}});document.body.appendChild(t);return t.present()};t.prototype.render=function(){var t=this;return[i("ion-content",null,i("app-header",null),i("div",{class:"page-listing"},!this.item&&this.loaded&&this.taxonomyLoaded?i("section",{class:"section"},i("content-404",null)):null,!this.loaded||!this.taxonomyLoaded?i("section",{class:"section"},i("ion-spinner",{name:"lines"})):null,this.item&&this.loaded&&this.taxonomyLoaded?i("page-listing-body",{item:this.item}):null,i("app-footer",null),this.item&&this.loaded&&this.taxonomyLoaded?i("div",{class:"mobile-booking"},i("div",{class:"rate-date-details"},i("span",{class:"highlight"},c(this.item.rate))," per month",i("br",null),i("span",{class:"highlight"},l(this.item.available_date,"m.d.y"))," next available date"),i("div",null,i("button",{"aria-label":"Booking Details",class:"button-dark booking-details",onClick:function(){return t.showMobileBookingDetails()}},"Booking Details"))):null))]};Object.defineProperty(t,"style",{get:function(){return".page-listing .mobile-booking{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:-webkit-sticky;position:sticky;bottom:0;width:100%;background-color:#fff;padding:10px;font-size:12px;font-weight:700;white-space:nowrap;line-height:1.8;z-index:2;-webkit-box-shadow:inset 0 3px 3px -3px rgba(0,0,0,.2);box-shadow:inset 0 3px 3px -3px rgba(0,0,0,.2)}.page-listing .mobile-booking .rate-date-details{margin-right:1rem}.page-listing .mobile-booking .booking-details{padding-top:18px;padding-bottom:18px}.page-listing .mobile-booking .highlight{font-size:20px}\@media (min-width:1200px){.page-listing .mobile-booking{display:none}}"},enumerable:true,configurable:true});return t}())}}}));