import{r as t,c as o,h as s,d as i}from"./p-f5b6b644.js";import{E as e}from"./p-19ec51eb.js";import"./p-74149bb1.js";import{S as a}from"./p-980b9778.js";import{g as r}from"./p-08706a58.js";import{t as h}from"./p-7295e390.js";const n=class{constructor(s){t(this,s),this.mapId=`map-instance-${r(8)}`,this.map=null,this.mapRendered=!1,this.neighborhoods=[],this.store=o(this,"store")}componentDidLoad(){this.store.mapStateToProps(this,t=>({neighborhoods:h.getNeighborhoods(t)}))}componentDidRender(){this.mapRendered||this.initializeMap()}initializeMap(){this.map&&(this.map.remove(),this.map=null),a.loadScript("mapbox","https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js").then(()=>{mapboxgl.accessToken=e.getInstance().get("MAPBOX_PUBLIC_TOKEN"),this.map=new mapboxgl.Map({container:this.mapId,style:"mapbox://styles/mapbox/streets-v11",center:this.item.center,zoom:15,minZoom:10,maxZoom:17,scrollZoom:!1}),this.map.dragPan.disable(),this.map.touchZoomRotate.disable(),this.map.addControl(new mapboxgl.NavigationControl),this.map.on("load",()=>{this.mapRendered=!0,this.map.addLayer({id:`neighborhood-outline-${this.item.id}`,type:"line",source:{type:"geojson",data:{type:"Feature",geometry:{type:"Polygon",coordinates:this.item.perimeter_coordinates}}},layout:{},paint:{"line-color":"#000","line-opacity":.7,"line-width":2}}),this.map.addLayer({id:`neighborhood-fill-${this.item.id}`,type:"fill",source:{type:"geojson",data:{type:"Feature",geometry:{type:"Polygon",coordinates:this.item.perimeter_coordinates}}},layout:{},paint:{"fill-color":"#000","fill-opacity":.2}})})})}render(){return s("div",{class:"listing-map-component"},s("div",{id:this.mapId}))}get el(){return i(this)}static get style(){return".listing-map-component{width:100%;height:632px}.listing-map-component>div{width:100%;height:100%}.listing-map-component .listing-marker{font-size:26px;font-weight:700}.listing-map-component .mapboxgl-popup-content{border-radius:5px;-webkit-box-shadow:0 2px 7px 0 hsla(0,0%,74.1%,.5);box-shadow:0 2px 7px 0 hsla(0,0%,74.1%,.5);border:2px solid #747474;padding:10px}"}},l=class{constructor(o){t(this,o),this.items=[]}render(){return[s("div",{class:"neighborhood-tag-list"},s("div",{class:"tags"},this.items.map(t=>s("div",{class:"tag"},t))))]}static get style(){return".neighborhood-tag-list{display:-ms-flexbox;display:flex;-ms-flex-wrap:no-wrap;flex-wrap:no-wrap;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around}.neighborhood-tag-list .tags{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;display:-ms-flexbox;display:flex;-ms-flex-pack:left;justify-content:left;-ms-flex-wrap:wrap;flex-wrap:wrap}\@media (min-width:768px){.neighborhood-tag-list .tags{-ms-flex-pack:end;justify-content:flex-end}}.neighborhood-tag-list .tag{display:inline-block;background-color:#eaebf0;text-align:center;margin-right:16px;margin-bottom:16px;padding:7px 12px 7px 13px;font-size:16px;text-transform:uppercase}\@media (min-width:768px){.neighborhood-tag-list .tag{margin-right:0;margin-left:16px;margin-bottom:16px}}"}};export{n as neighborhood_map,l as neighborhood_tags};