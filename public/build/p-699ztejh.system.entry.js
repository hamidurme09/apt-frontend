var __awaiter=this&&this.__awaiter||function(t,e,n,s){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s["throw"](t))}catch(t){r(t)}}function l(t){t.done?n(t.value):i(t.value).then(o,a)}l((s=s.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},s,i,r,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return l([t,e])}}function l(o){if(s)throw new TypeError("Generator is already executing.");while(n)try{if(s=1,i&&(r=o[0]&2?i["return"]:o[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;if(i=0,r)o=[o[0]&2,r.value];switch(o[0]){case 0:case 1:r=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;i=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){n.label=o[1];break}if(o[0]===6&&n.label<r[1]){n.label=r[1];r=o;break}if(r&&n.label<r[2]){n.label=r[2];n.ops.push(o);break}if(r[2])n.ops.pop();n.trys.pop();continue}o=e.call(t,n)}catch(t){o=[6,t];i=0}finally{s=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-c9001ae9.system.js","./p-53678cca.system.js","./p-69f5d316.system.js","./p-32fd337e.system.js","./p-63ed7202.system.js","./p-50f9a219.system.js","./p-a55517c8.system.js","./p-5ad401ce.system.js","./p-e1bfaa96.system.js","./p-8cfdee09.system.js","./p-5927ec0e.system.js"],(function(t){"use strict";var e,n,s,i,r,o,a;return{setters:[function(t){e=t.r;n=t.c;s=t.h},function(){},function(){},function(){},function(){},function(){},function(t){i=t.R},function(){},function(t){r=t.w},function(t){o=t.r},function(t){a=t.A}],execute:function(){var l=t("page_wishlist",function(){function t(t){e(this,t);this.wishlist=[];this.loaded=false;this.apartments=[];this.hasLoaded=false;this.store=n(this,"store")}t.prototype.componentWillLoad=function(){this.store.mapStateToProps(this,(function(t){return{wishlist:r.getWishlist(t)}}));this.store.mapDispatchToProps(this,{removeFromWishlist:o})};t.prototype.componentDidLoad=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,this.syncWishlist()];case 1:t.sent();this.loaded=true;return[2]}}))}))};t.prototype.wishlistChanged=function(){if(!this.loaded){return}this.syncWishlist()};t.prototype.syncWishlist=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n;return __generator(this,(function(s){switch(s.label){case 0:if(!this.wishlist.length){this.apartments=[];return[2]}s.label=1;case 1:s.trys.push([1,3,,4]);return[4,a.getApartments(this.wishlist)];case 2:t=s.sent();e=this.wishlist.filter((function(e){return!t.find((function(t){return t.id===e}))}));if(e.length){this.removeFromWishlist(e)}this.apartments=t;return[3,4];case 3:n=s.sent();console.log(n);return[3,4];case 4:return[2]}}))}))};t.prototype.render=function(){return[s("ion-content",null,s("app-header",null),s("div",{class:"page-wishlist"},s("section",{class:"section"},s("h1",{class:"title text-center"},"Wishlist"),s("h2",{class:"subtitle text-center desktop-only"},"These are your selected apartments"),s("h2",{class:"subtitle text-center mobile-only"},"This is your wishlist"),!this.loaded?s("div",{class:"text-center"},s("ion-spinner",{name:"lines"})):null,this.loaded&&!this.apartments.length?s("div",{class:"text-center"},"Your wishlist is empty.",s("br",null),s("br",null),"Search for listings that match your criteria, then add them to your wishlist.",s("br",null),s("br",null),s("ion-router-link",{href:i.getRoute("search"),class:"button-dark"},"SEARCH")):null,this.loaded&&this.apartments.length?s("div",{class:"wishlist"},this.apartments.map((function(t){return s("wishlist-card",{item:t})}))):null)),s("app-footer",null))]};Object.defineProperty(t,"watchers",{get:function(){return{wishlist:["wishlistChanged"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".page-wishlist .title{font-family:proxima-nova,sans-serif;font-size:32px;font-weight:600;text-transform:none}\@media (min-width:1200px){.page-wishlist .title{font-size:42px}}.page-wishlist .subtitle{font-size:16px;font-weight:400;text-transform:none;margin-bottom:2rem}\@media (min-width:1200px){.page-wishlist .subtitle{font-size:24px}}\@media (min-width:1200px){.page-wishlist .wishlist{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}}.page-wishlist .wishlist wishlist-card:not(:first-child){display:block;margin-top:12px}\@media (min-width:1200px){.page-wishlist .wishlist wishlist-card:not(:first-child){margin-top:36px}}\@media (min-width:1200px){.page-wishlist .mobile-only{display:none}}.page-wishlist .desktop-only{display:none}\@media (min-width:1200px){.page-wishlist .desktop-only{display:block}}"},enumerable:true,configurable:true});return t}())}}}));