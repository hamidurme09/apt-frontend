import{r as s,j as t,c as i,h as a}from"./p-f5b6b644.js";import"./p-19ec51eb.js";import"./p-811a61b7.js";import{a as e}from"./p-5444f5ad.js";import{R as n}from"./p-9d127c97.js";import{s as h}from"./p-c041151f.js";import{T as o}from"./p-2c007f74.js";import{A as r}from"./p-5908b5da.js";const m=class{constructor(a){s(this,a),this.isLoggedIn=!1,this.isAdmin=!1,this.loaded=!1,this.submitting=!1,this.agents=[],this.success=t(this,"success",7),this.store=i(this,"store")}async componentWillLoad(){this.store.mapStateToProps(this,s=>({isLoggedIn:e.isLoggedIn(s),isAdmin:e.isAdmin(s)})),this.isLoggedIn?this.isAdmin||n.forward("/"):n.forward("/login");try{if(this.agentId){const s=await r.getAgent(this.agentId);s.id===this.agentId&&(this.item=s,this.loaded=!0)}}catch(s){this.loaded=!0}}async onSubmit(s){s.preventDefault(),this.submitting=!0;const t=h(this.form,{hash:!0,empty:!0});try{const s=await r.updateAgent(t);this.submitting=!1,o.success("Agent has been saved"),this.success.emit(s),n.reload("/admin/agents")}catch(s){o.error(s.message),this.submitting=!1}}render(){return[a("div",{class:"agent-wrapper"},a("div",{class:"agent-edit-form-component"},a("form",{onSubmit:s=>this.onSubmit(s),ref:s=>this.form=s},a("fieldset",null,a("h3",null,"Agent Information"),a("div",{class:"fieldset-inputs address"},a("input",{type:"hidden",name:"id",value:this.item?this.item.id:""}),a("div",{class:"input"},a("label",{htmlFor:"owner-name"},"Agent Name"),a("input",{id:"owner-name",name:"name",class:"apt212-input block",value:this.item?this.item.name:""})),a("div",{class:"input"},a("label",{htmlFor:"address"},"Agent Email"),a("input",{id:"address",name:"email",class:"apt212-input block",value:this.item?this.item.email:""})))),a("input",{type:"submit",class:"button-dark",value:"Save",disabled:this.submitting}))))]}static get style(){return".agent-edit-form-component{width:1344px;margin:auto}.agent-edit-form-component .action-button{margin-bottom:16px}.agent-edit-form-component .fieldset-inputs label{display:block;font-weight:700}.agent-edit-form-component .fieldset-inputs.address{display:grid;gap:8px;-ms-flex-align:center;align-items:center;grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}.agent-edit-form-component .fieldset-inputs.features{display:grid;gap:8px;-ms-flex-align:center;align-items:center;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.agent-edit-form-component .fieldset-inputs.subways{display:grid;gap:8px;-ms-flex-align:center;align-items:center;grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}.agent-edit-form-component .fieldset-inputs.subways button{border:1px solid #000;padding-top:4px;padding-bottom:4px}.agent-edit-form-component .fieldset-inputs.subways button.selected{background-color:#057365}.agent-edit-form-component .fieldset-inputs.subways button img{background-color:#fff;border-radius:50%}.agent-edit-form-component .fieldset-inputs.amenities{display:grid;gap:8px;-ms-flex-align:center;align-items:center;grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}.agent-edit-form-component .fieldset-inputs.amenities button{border:1px solid #000;padding-top:4px;padding-bottom:4px}.agent-edit-form-component .fieldset-inputs.amenities button.selected{background-color:#057365;color:#fff}.agent-edit-form-component .fieldset-inputs.amenities button img{width:30px;height:30px;padding:3px;background-color:#fff;border-radius:6px;vertical-align:middle;-o-object-fit:contain;object-fit:contain}.agent-edit-form-component .monthly-rates-wrapper{width:100%;overflow-x:auto}.agent-edit-form-component .monthly-rates .monthly-rate{min-width:75px}.agent-edit-form-component .monthly-rates thead td{text-align:center;font-weight:700}.agent-edit-form-component .monthly-rates td{vertical-align:middle;padding-bottom:4px}.agent-edit-form-component .monthly-rates td input.apt212-input{margin:0}.agent-edit-form-component .monthly-rates .label{white-space:nowrap;padding-right:4px;font-weight:700}.agent-edit-form-component .block-date{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-top:16px}.agent-edit-form-component .block-date button{padding-top:3px;margin-left:16px;font-size:18px}.agent-edit-form-component .block-date-input{padding-top:16px}.agent-edit-form-component .block-date-input .input{display:inline-block;padding-right:16px}.agent-edit-form-component .errors{padding-top:8px;padding-bottom:8px;color:red}"}};export{m as page_admin_agent_edit};