import{r as t,h as s,H as i,d as e,e as h,j as o,i as r,k as n,f as l}from"./p-f5b6b644.js";import{c as a,h as c}from"./p-f1a4df63.js";const p=class{constructor(s){t(this,s),this.componentProps={},this.styleOverride={},this.bindTo={target:"bottom left",popover:"top left"},this.animateSrc="",this.rendered=!1,this.initialized=!1}async dismiss(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.el.remove()}clickListener(t){if(this.rendered&&!this.el.contains(t.target)){const s=this.getWrapper().getBoundingClientRect();(t.clientX<s.left||t.clientX>s.right||t.clientY<s.top||t.clientY>s.bottom)&&this.el.remove()}}getWrapper(){return this.el.querySelector(".apt212-popover")}getStyle(){let t={};return Object.assign(t,this.styleOverride)}getClass(){let t,s={"apt212-popover":!0};return s[t=this.animateSrc?"bind-"+this.animateSrc.replace(/ /g,"-"):"bind-"+this.bindTo.popover.replace(/ /g,"-")]=!0,s}positionTargetBottomLeft(){if(!this.target)return;let t=this.target.getBoundingClientRect();switch(this.bindTo.popover){case"top left":this.getWrapper().style.top=`${t.bottom}px`,this.getWrapper().style.left=`${t.left}px`;break;case"top right":{const s=t.left-this.getWrapper().clientWidth;this.getWrapper().style.top=`${t.bottom}px`,this.getWrapper().style.left=`${s}px`}}}positionTargetTopRight(){if(!this.target)return;let t=this.target.getBoundingClientRect(),s=this.getWrapper().getBoundingClientRect();switch(this.bindTo.popover){case"top right":{const i=t.left+t.width-s.width;this.getWrapper().style.top=`${t.top}px`,this.getWrapper().style.left=`${i}px`}}}positionTargetTopLeft(){}positionTargetBottomRight(){if(!this.target)return;let t=this.target.getBoundingClientRect();switch(this.bindTo.popover){case"top right":{const s=t.right-this.getWrapper().clientWidth;this.getWrapper().style.top=`${t.bottom}px`,this.getWrapper().style.left=`${s}px`}}}mutationObserved(){let t=this.getWrapper().getBoundingClientRect();if(t.width>2&&t.height>2){switch(this.mutationObserver.disconnect(),this.mutationObserver=null,this.bindTo.target){case"bottom left":this.positionTargetBottomLeft();break;case"top right":this.positionTargetTopRight();break;case"top left":this.positionTargetTopLeft();break;case"bottom right":this.positionTargetBottomRight()}this.getWrapper().classList.add("initialized"),setTimeout(()=>{this.getWrapper().classList.add("active"),this.rendered=!0},0)}}componentDidRender(){this.mutationObserver=new MutationObserver(()=>this.mutationObserved()),this.mutationObserver.observe(this.getWrapper(),{attributes:!1,childList:!0,subtree:!0});const t=Object.assign(document.createElement(this.component),this.componentProps);this.el.querySelector(".apt212-popover").appendChild(t)}render(){return s(i,null,s("div",{class:this.getClass(),style:this.getStyle()}))}get el(){return e(this)}static get style(){return".apt212-popover{position:absolute;background-color:#fff;border:1px solid #f0f0f0;visibility:hidden}.apt212-popover,.apt212-popover.bind-top-left{-webkit-transform-origin:0 0;transform-origin:0 0}.apt212-popover.bind-top-right{-webkit-transform-origin:100% 0;transform-origin:100% 0}.apt212-popover.bind-bottom-left{-webkit-transform-origin:0 100%;transform-origin:0 100%}.apt212-popover.bind-bottom-right{-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.apt212-popover.bind-top-center{-webkit-transform-origin:50% 0;transform-origin:50% 0}.apt212-popover.initialized{visibility:visible;-webkit-transform:scale(0);transform:scale(0)}.apt212-popover.initialized.active{-webkit-transform:scale(1);transform:scale(1);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}"}},u=class{constructor(s){t(this,s),this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.mode=h(this),this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTimeStamp:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,timeStamp:0,data:void 0,isScrolling:!0},this.fullscreen=!1,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1,this.ionScrollStart=o(this,"ionScrollStart",7),this.ionScroll=o(this,"ionScroll",7),this.ionScrollEnd=o(this,"ionScrollEnd",7)}disconnectedCallback(){this.onScrollEnd()}componentDidLoad(){this.resize()}onClick(t){this.isScrolling&&(t.preventDefault(),t.stopPropagation())}shouldForceOverscroll(){const{forceOverscroll:t,mode:s}=this;return void 0===t?"ios"===s&&r("ios"):t}resize(){this.fullscreen?n(this.readDimensions.bind(this)):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,this.el.forceUpdate())}readDimensions(){const t=d(this.el),s=Math.max(this.el.offsetTop,0),i=Math.max(t.offsetHeight-s-this.el.offsetHeight,0);(s!==this.cTop||i!==this.cBottom)&&(this.cTop=s,this.cBottom=i,this.el.forceUpdate())}onScroll(t){const s=Date.now(),i=!this.isScrolling;this.lastScroll=s,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,n(s=>{this.queued=!1,this.detail.event=t,m(this.detail,this.scrollEl,s,i),this.ionScroll.emit(this.detail)}))}getScrollElement(){return Promise.resolve(this.scrollEl)}scrollToTop(t=0){return this.scrollToPoint(void 0,0,t)}scrollToBottom(t=0){return this.scrollToPoint(void 0,this.scrollEl.scrollHeight-this.scrollEl.clientHeight,t)}scrollByPoint(t,s,i){return this.scrollToPoint(t+this.scrollEl.scrollLeft,s+this.scrollEl.scrollTop,i)}async scrollToPoint(t,s,i=0){const e=this.scrollEl;if(i<32)return null!=s&&(e.scrollTop=s),void(null!=t&&(e.scrollLeft=t));let h,o=0;const r=new Promise(t=>h=t),n=e.scrollTop,l=e.scrollLeft,a=null!=s?s-n:0,c=null!=t?t-l:0,p=t=>{const s=Math.min(1,(t-o)/i)-1,r=Math.pow(s,3)+1;0!==a&&(e.scrollTop=Math.floor(r*a+n)),0!==c&&(e.scrollLeft=Math.floor(r*c+l)),r<1?requestAnimationFrame(p):h()};return requestAnimationFrame(t=>{o=t,p(t)}),r}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{scrollX:t,scrollY:e}=this,o=h(this),r=this.shouldForceOverscroll(),n="ios"===o&&l.getBoolean("experimentalTransitionShadow",!0);return this.resize(),s(i,{class:Object.assign(Object.assign({},a(this.color)),{[o]:!0,"content-sizing":c("ion-popover",this.el),overscroll:r}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},s("main",{class:{"inner-scroll":!0,"scroll-x":t,"scroll-y":e,overscroll:(t||e)&&r},ref:t=>this.scrollEl=t,onScroll:t=>this.onScroll(t)},s("slot",null)),n?s("div",{class:"transition-effect"},s("div",{class:"transition-cover"}),s("div",{class:"transition-shadow"})):null,s("slot",{name:"fixed"}))}get el(){return e(this)}static get style(){return":host{--background:var(--ion-background-color,#fff);--color:var(--ion-text-color,#000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0!important;padding:0!important;font-family:var(--ion-font-family,inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50,#f2f2f2)}.inner-scroll{left:0;right:0;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;background:var(--background);color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.inner-scroll{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.scroll-x,.scroll-y{-webkit-overflow-scrolling:touch;will-change:scroll-position;-ms-scroll-chaining:none;overscroll-behavior:contain}.scroll-y{-ms-touch-action:pan-y;touch-action:pan-y;overflow-y:var(--overflow)}.scroll-x{-ms-touch-action:pan-x;touch-action:pan-x;overflow-x:var(--overflow)}.scroll-x.scroll-y{-ms-touch-action:auto;touch-action:auto}.overscroll:after,.overscroll:before{position:absolute;width:1px;height:1px;content:\"\"}.overscroll:before{bottom:-1px}.overscroll:after{top:-1px}:host(.content-sizing){contain:none}:host(.content-sizing) .inner-scroll{position:relative}.transition-effect{left:-100%;opacity:0;pointer-events:none}.transition-cover,.transition-effect{position:absolute;width:100%;height:100%}.transition-cover{right:0;background:#000;opacity:.1}.transition-shadow{display:block;position:absolute;right:0;width:10px;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3MDgzRkQ5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3MDgzRkU5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTcwODNGQjlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTcwODNGQzlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmePEuQAAABNSURBVHjaYvz//z8DIxAwMDAwATGMhmFmPDQuOSZks0AMmoJBaQHjkPfB0Lfg/2gQjVow+HPy/yHvg9GiYjQfjMbBqAWjFgy/4hogwADYqwdzxy5BuwAAAABJRU5ErkJggg==);background-repeat:repeat-y;background-size:10px 16px}"}},d=t=>{const s=t.closest("ion-tabs");return s||(t.closest("ion-app,ion-page,.ion-page,page-inner")||(t=>t.parentElement?t.parentElement:t.parentNode&&t.parentNode.host?t.parentNode.host:null)(t))},m=(t,s,i,e)=>{const h=t.currentX,o=t.currentY,r=s.scrollLeft,n=s.scrollTop,l=i-t.timeStamp;if(e&&(t.startTimeStamp=i,t.startX=r,t.startY=n,t.velocityX=t.velocityY=0),t.timeStamp=i,t.currentX=t.scrollLeft=r,t.currentY=t.scrollTop=n,t.deltaX=r-t.startX,t.deltaY=n-t.startY,l>0&&l<100){const s=(n-o)/l;t.velocityX=(r-h)/l*.7+.3*t.velocityX,t.velocityY=.7*s+.3*t.velocityY}};export{p as apt212_popover,u as ion_content};