import{r as t,h as s,d as i}from"./p-f5b6b644.js";const r=class{constructor(s){t(this,s),this.alt="",this.expand=!1,this.observerSupported=!0,this.onIntersection=async t=>{for(const s of t)s.isIntersecting&&(this.observer&&this.observer.disconnect(),s.target.getAttribute("data-src")&&(s.target.setAttribute("src",s.target.getAttribute("data-src")),s.target.removeAttribute("data-src")))}}componentDidLoad(){const t=this.el.querySelector("img");this.observerSupported=!!window.IntersectionObserver,t&&this.observerSupported&&(this.observer=new IntersectionObserver(this.onIntersection,{rootMargin:"200px 50px 200px 50px"}),this.observer.observe(t))}getClass(){let t={"lazy-image":!0};return this.expand&&(t.expand=!0),t}render(){const t={};return this.alt||(t.role="presentation"),s("img",this.observerSupported?Object.assign({"data-src":this.src,class:this.getClass(),alt:this.alt},t):Object.assign({src:this.src,class:this.getClass(),alt:this.alt},t))}get el(){return i(this)}static get style(){return".lazy-image{height:inherit;width:inherit;-o-object-fit:inherit;object-fit:inherit}.lazy-image.expand{width:100%;height:100%}"}};export{r as lazy_image};