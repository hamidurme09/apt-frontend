import{r,h as e}from"./p-f5b6b644.js";import"./p-19ec51eb.js";import"./p-811a61b7.js";import"./p-30f68cd2.js";import{s as a}from"./p-c041151f.js";import{I as l}from"./p-283e4737.js";import{L as t}from"./p-9d50b311.js";import{A as s}from"./p-2351c48a.js";import{T as i}from"./p-2c007f74.js";const n=class{constructor(e){r(this,e),this.submitted=!1,this.errors=[]}async handleSubmit(r){r.preventDefault();const e=a(this.form,{hash:!0,empty:!0});if(this.checkErrors(e),!this.errors.length){await t.showLoading();try{await s.sendReferral(e),this.submitted=!0}catch(r){i.error(r.message)}await t.hideLoading()}}checkErrors(r){const e=[];["referrer_name","referrer_email","referral_name","referral_email"].forEach(a=>{r[a]||e.push(a)}),r.referrer_email&&!l.validate(r.referrer_email)&&e.push("referrer_email"),r.referral_email&&!l.validate(r.referral_email)&&e.push("referral_email"),this.errors=e}render(){return e("form",{onSubmit:r=>this.handleSubmit(r),class:"referral-form-component",ref:r=>this.form=r},e("div",{class:{"form-content":!0,submitted:this.submitted}},e("h3",null,"YOUR INFORMATION"),e("div",{class:{input:!0,error:this.errors.includes("referrer_name")}},e("label",{htmlFor:"referrer-name",class:"sr-only"},"Name"),e("input",{id:"referrer-name",type:"text",class:"apt212-input block",placeholder:"Name",name:"referrer_name"})),e("div",{class:{input:!0,error:this.errors.includes("referrer_phone")}},e("label",{htmlFor:"referrer-phone",class:"sr-only"},"Phone Number (Optional)"),e("input",{id:"referrer-phone",type:"text",class:"apt212-input block",placeholder:"Phone Number (Optional)",name:"referrer_phone"})),e("div",{class:{input:!0,error:this.errors.includes("referrer_email")}},e("label",{htmlFor:"referrer-email",class:"sr-only"},"Email Address"),e("input",{id:"referrer-email",type:"email",class:"apt212-input block",placeholder:"Email Address",name:"referrer_email"})),e("h3",null,"REFERRAL's INFORMATION"),e("div",{class:{input:!0,error:this.errors.includes("referral_name")}},e("label",{htmlFor:"referral-name",class:"sr-only"},"Referral Name"),e("input",{id:"referral-name",type:"text",class:"apt212-input block",placeholder:"Referral Name",name:"referral_name"})),e("div",{class:{input:!0,error:this.errors.includes("referral_phone")}},e("label",{htmlFor:"referral-phone",class:"sr-only"},"Referral Phone Number (Optional)"),e("input",{id:"referral-phone",type:"text",class:"apt212-input block",placeholder:"Referral Phone Number (Optional)",name:"referral_phone"})),e("div",{class:{input:!0,error:this.errors.includes("referral_email")}},e("label",{htmlFor:"referral-email",class:"sr-only"},"Referral Email Address"),e("input",{id:"referral-email",type:"email",class:"apt212-input block",placeholder:"Referral Email Address",name:"referral_email"})),e("div",{class:"input"},e("input",{type:"submit",class:"button-dark block",value:"SUBMIT"}))),this.submitted?e("div",{class:"thank-you-msg flex-vertical-center text-center"},e("div",null,e("p",null,"Thank you. ",e("br",null),"Your referral has now been sent."),e("ion-icon",{name:"md-checkmark"}))):null)}static get style(){return".referral-form-component{position:relative}.referral-form-component h3{padding-bottom:16px}.referral-form-component .form-content.submitted{visibility:hidden}.referral-form-component .thank-you-msg{position:absolute;top:0;left:0;width:100%;height:100%;-ms-flex-pack:center;justify-content:center}.referral-form-component .thank-you-msg p{font-size:32px;font-weight:700;line-height:1.5}.referral-form-component .thank-you-msg ion-icon{font-size:120px;color:#057365}.referral-form-component .error label{color:red}"}};export{n as referral_form};