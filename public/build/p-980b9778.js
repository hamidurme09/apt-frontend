const t=new class{constructor(){this.loadedScripts={},this.loadingScripts={}}loadScript(s,e){return this.loadedScripts[s]&&this.loadedScripts[s]===e?new Promise(t=>t(!0)):this.loadingScripts[s]&&this.loadingScripts[s]===e?new Promise(i=>{const n=setInterval(()=>{t.loadedScripts[s]===e&&(clearInterval(n),i())},250)}):(this.loadingScripts[s]=e,new Promise((t,i)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.defer=!0,n.onload=()=>{this.loadingScripts[s]=null,this.loadedScripts[s]=e,t(!0)},n.onerror=i,n.onabort=i,document.head.appendChild(n)}))}};export{t as S};