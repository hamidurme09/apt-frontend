import{r as t,h as e,c as s,d as i,H as o,j as r}from"./p-f5b6b644.js";import"./p-1ba263c2.js";import"./p-19ec51eb.js";import"./p-811a61b7.js";import"./p-74149bb1.js";import{R as a}from"./p-9d127c97.js";import{D as l}from"./p-82599b58.js";import{f as n,a as c}from"./p-08706a58.js";import{i as h}from"./p-0850846a.js";import{T as d}from"./p-2c007f74.js";import{M as m}from"./p-d40f2c8b.js";import{a as p,s as u}from"./p-3fe3eb5a.js";import{t as g}from"./p-7295e390.js";import{w as b}from"./p-a98ad3e7.js";import"./p-7be04cb4.js";import{t as f,m as v}from"./p-3d67b9a9.js";import{n as y}from"./p-8f87c93e.js";const k=class{constructor(e){t(this,e),this.year=2019,this.expandPages=!1,this.noMargin=!1}componentDidLoad(){let t=new Date;this.year=t.getFullYear()}handleSubmit(t){t.preventDefault()}handleWebIDSearch(t){t.preventDefault(),this.webidInput.value&&(h(this.webidInput.value)?a.forward(`/listing/${this.webidInput.value}`):d.error("Webid must be a number"))}render(){return[e("footer",{class:{"app-footer":!0,"no-margin":this.noMargin}},e("div",{class:"section"},e("div",{class:"hr"}),e("div",{class:"footer-wrapper first"},e("div",{class:"footer-col footer-left"},e("div",{class:"footer-links"},e("div",{class:"links-left"},e("ion-router-link",{href:a.getRoute("search")},"Furnished Apartments"),e("ion-router-link",{href:a.getRoute("coming-soon")},"Rentals"),e("ion-router-link",{href:a.getRoute("coming-soon")},"Sales"),e("ion-router-link",{href:a.getRoute("coming-soon")},"Investments"),e("ion-router-link",{href:a.getRoute("privacy"),class:"skinny first"},"Privacy"),e("ion-router-link",{href:a.getRoute("coming-soon"),class:"skinny"},"Sitemap"),e("ion-router-link",{href:a.getRoute("faq"),class:"skinny"},"FAQ")),e("div",{class:"links-right"},e("ion-router-link",{href:"javascript:void(0)",class:"explore-more",onClick:()=>{this.expandPages=!this.expandPages}},"Explore more",e("ion-icon",{mode:"md",name:"md-arrow-dropdown",class:{"expand-indicator":!0,expanded:this.expandPages}})),e("div",{class:{"explore-more":!0,expanded:this.expandPages}},e("ion-router-link",{href:a.getRoute("coming-soon")},"Agents"),e("ion-router-link",{href:a.getRoute("booking")},"Bookings"),e("ion-router-link",{href:a.getRoute("referral")},"Referrals"),e("ion-router-link",{href:a.getRoute("neighborhoods")},"Neighborhood Guide"),e("ion-router-link",{href:a.getRoute("private-rooms")},"Private Rooms"),e("ion-router-link",{href:a.getRoute("corporate-rooms")},"Corporate Accounts"),e("ion-router-link",{href:a.getRoute("blog")},"APT212 blog"))))),e("div",{class:"footer-col footer-right"},e("form",{onSubmit:t=>this.handleSubmit(t),novalidate:!0,class:"dark"},e("p",null,"Sign up for offers, updates, and more"),e("div",{class:"input"},e("label",{htmlFor:"signup-email",class:"sr-only"},"Email"),e("input",{type:"email",name:"email",placeholder:"Email Address",id:"signup-email",class:"block",autocomplete:"off"}),e("input",{type:"submit",value:"Sign Up",class:"submit-inline"}))),e("form",{onSubmit:t=>this.handleWebIDSearch(t),novalidate:!0,class:"dark"},e("div",{class:"input"},e("label",{htmlFor:"web-id-search",class:"sr-only"},"Web ID"),e("input",{type:"text",placeholder:"Search By Web ID",name:"webID",class:"input-webid block",id:"web-id-search",autocomplete:"off",ref:t=>this.webidInput=t}),e("button",{type:"submit",value:"Sign Up",class:"reset submit-inline",onClick:t=>this.handleWebIDSearch(t)},e("svg",{class:"webid-icon",viewBox:"0 0 25 24",version:"1.1"},e("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},e("path",{d:"M24,21.1886008 L18.6803754,15.9186997 C19.949079,14.3099652 20.6588954,12.3179013 20.6588954,10.238277 C20.6588954,5.14393658 16.472729,1 11.3303363,1 C6.18621089,1 2,5.14393658 2,10.238277 C2,15.3308573 6.18616646,19.4765539 11.3303363,19.4765539 C13.3071236,19.4765539 15.2318387,18.8457674 16.8196842,17.7010588 L22.1704099,23 L24,21.1886008 Z M11.3302919,16.9140717 C7.61273046,16.9140717 4.58934605,13.9182757 4.58934605,10.238365 C4.58934605,6.55849823 7.61268603,3.56265825 11.3302919,3.56265825 C15.0461205,3.56265825 18.0694605,6.55845423 18.0694605,10.238365 C18.0694605,12.2063608 17.1982293,14.0643123 15.6796059,15.3379854 C14.4664401,16.3537734 12.9218251,16.9140717 11.3302919,16.9140717 Z",fill:"#5d5d5d"})))))))),e("div",{class:"footer-wrapper"},e("div",{class:"footer-col footer-left"},e("div",{class:"copyright"},e("ion-router-link",{href:"/",class:"logo-link"},e("lazy-image",{src:"/assets/images/logo-white.svg",class:"logo",alt:"APT212 logo"})),e("lazy-image",{src:"/assets/images/live-play-new-york.png",alt:"Live Play New York",class:"lpny"}),e("p",null,"Â©",this.year," All Rights Reserved."))),e("div",{class:"footer-col footer-right align-bottom"},e("div",{class:"social-media"},e("a",{href:"https://www.facebook.com/Apt212/",target:"_blank",rel:"noopener"},e("lazy-image",{src:"/assets/images/icons/social-media/facebook-square.svg",alt:"Facebook"})),e("a",{href:"https://twitter.com/apt212",target:"_blank",rel:"noopener"},e("lazy-image",{src:"/assets/images/icons/social-media/twitter.svg",alt:"Twitter"})),e("a",{href:"https://www.instagram.com/apt212/",target:"_blank",rel:"noopener"},e("lazy-image",{src:"/assets/images/icons/social-media/instagram.svg",alt:"Instagram"})),e("a",{href:"https://youtube.com/c/APT212NewYork",target:"_blank",rel:"noopener"},e("lazy-image",{src:"/assets/images/icons/social-media/youtube.svg",alt:"Youtube"})),e("a",{href:"https://www.rebny.com/",target:"_blank",rel:"noopener"},e("lazy-image",{src:"/assets/images/icons/rebny.png",alt:"REBNY",class:"rebny"})))))))]}static get style(){return".app-footer{width:100%;margin-top:5rem;padding-top:39px;padding-bottom:40px;background-color:#131414;color:#fff;min-height:300px}\@media (min-width:1200px){.app-footer{padding-top:79px;padding-bottom:4rem}}.app-footer .section{max-width:1092px}.app-footer.no-margin{margin-top:0}\@media (min-width:1200px){.app-footer .footer-wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}}.app-footer .footer-wrapper:not(.first){padding-top:60px}\@media (min-width:1200px){.app-footer .footer-wrapper:not(.first){padding-top:80px}}.app-footer .footer-wrapper:last-child{display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse}\@media (min-width:1200px){.app-footer .footer-wrapper:last-child{-ms-flex-direction:row;flex-direction:row}}.app-footer .hr{border-top:2px solid #f5f5f7;padding-bottom:16px}\@media (min-width:1200px){.app-footer .hr{padding-bottom:31px}}.app-footer .footer-col{-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:50%;flex-basis:50%}\@media (min-width:900px){.app-footer .footer-col{-ms-flex-preferred-size:33%;flex-basis:33%}}\@media (min-width:768px){.app-footer .footer-links{display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}}.app-footer .footer-links .links-left{-ms-flex-positive:1;flex-grow:1}.app-footer .footer-links .links-right{-ms-flex-negative:1;flex-shrink:1}.app-footer .footer-links ion-router-link{display:block;padding:.5rem 0;color:#f5f5f7;text-transform:capitalize;font-weight:700;font-size:20px}.app-footer .footer-links ion-router-link.skinny{font-size:16px;font-weight:400;padding:.65rem 0}.app-footer .footer-links ion-router-link.explore-more,.app-footer .footer-links ion-router-link.skinny.first{padding-top:16px}\@media (min-width:768px){.app-footer .footer-links ion-router-link.explore-more{display:none}}.app-footer .footer-links ion-router-link.explore-more .expand-indicator{margin-left:3px;-webkit-transform:translateY(3px);transform:translateY(3px)}.app-footer .footer-links ion-router-link.explore-more .expand-indicator.expanded{-webkit-transform:rotate(180deg) translateY(-3px);transform:rotate(180deg) translateY(-3px)}.app-footer .footer-links div.explore-more{display:none}.app-footer .footer-links div.explore-more.expanded{display:block}\@media (min-width:768px){.app-footer .footer-links div.explore-more{display:block}}.app-footer .footer-right{font-size:14px}\@media (min-width:1200px){.app-footer .footer-right{padding-left:84px}}.app-footer .footer-right .input-webid{border:0;margin-top:1rem}.app-footer .footer-right form.dark:first-child{padding-top:32px}\@media (min-width:1200px){.app-footer .footer-right form.dark:first-child{padding-bottom:16px}}.app-footer .footer-right form.dark input,.app-footer .footer-right form.dark input[type=email],.app-footer .footer-right form.dark input[type=text]{height:55px;border:2px solid #f5f5f7;background-color:#131414;font-size:14px;margin-top:0}\@media (min-width:1200px){.app-footer .footer-right form.dark input,.app-footer .footer-right form.dark input[type=email],.app-footer .footer-right form.dark input[type=text]{margin-top:16px;font-size:18px}}.app-footer .footer-right form.dark input:focus,.app-footer .footer-right form.dark input[type=email]:focus,.app-footer .footer-right form.dark input[type=text]:focus{outline:none}.app-footer .footer-right form.dark input::-webkit-input-placeholder,.app-footer .footer-right form.dark input[type=email]::-webkit-input-placeholder,.app-footer .footer-right form.dark input[type=text]::-webkit-input-placeholder{color:#9a9a9c}.app-footer .footer-right form.dark input::-moz-placeholder,.app-footer .footer-right form.dark input[type=email]::-moz-placeholder,.app-footer .footer-right form.dark input[type=text]::-moz-placeholder{color:#9a9a9c}.app-footer .footer-right form.dark input:-ms-input-placeholder,.app-footer .footer-right form.dark input[type=email]:-ms-input-placeholder,.app-footer .footer-right form.dark input[type=text]:-ms-input-placeholder{color:#9a9a9c}.app-footer .footer-right form.dark input::-ms-input-placeholder,.app-footer .footer-right form.dark input[type=email]::-ms-input-placeholder,.app-footer .footer-right form.dark input[type=text]::-ms-input-placeholder{color:#9a9a9c}.app-footer .footer-right form.dark input::placeholder,.app-footer .footer-right form.dark input[type=email]::placeholder,.app-footer .footer-right form.dark input[type=text]::placeholder{color:#9a9a9c}.app-footer .footer-right form.dark .reset:focus{outline:none}.app-footer .footer-right form.dark .submit-inline{position:absolute;top:0;right:0;background-color:#f5f5f7;font-size:14px;font-weight:700;height:55px;width:75px;padding:0}\@media (min-width:1200px){.app-footer .footer-right form.dark .submit-inline{font-size:16px;width:96px}}\@media (min-width:1200px){.app-footer .footer-right form.dark button.submit-inline{margin-top:16px}}.app-footer .footer-right form.dark p{font-size:16px}\@media (min-width:1200px){.app-footer .footer-right form.dark p{font-size:20px}}.app-footer .footer-right .webid-icon{width:26px;height:26px}.app-footer .footer-right .webid-icon *{fill:#000}.app-footer .footer-right label{display:inline-block;padding-bottom:.5rem}.app-footer .logo{height:32px}.app-footer .copyright{font-size:16px}.app-footer .copyright .lpny{display:block;height:26px;margin-top:8px}\@media (min-width:1200px){.app-footer .copyright .lpny{height:25px}}.app-footer .social-media{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:end;align-items:flex-end;width:100%;margin-bottom:60px}\@media (min-width:1200px){.app-footer .social-media{margin-bottom:16px}}.app-footer .social-media lazy-image{width:27px;height:27px}\@media (min-width:1200px){.app-footer .social-media lazy-image{width:32px;height:32px}}.app-footer .social-media lazy-image.rebny{width:auto}\@media (min-width:1200px){.app-footer .social-media lazy-image.rebny{width:122px;height:44px}}.app-footer .align-bottom{display:-ms-flexbox;display:flex}"}},w=new class{constructor(){this.tagPriorities={beds:10,bathrooms:20,price:30,moveInDate:40,buildingTypes:50,locationAll:60,location:70},this.bedPriorities={room:1,studio:2,1:3,2:4,3:5,4:6,5:7}}getPrioritizedTags(t,e){const s=[];if(t.beds.length){let i="Beds: ",o=t.beds.sort((t,s)=>{const i=e.bedroomTypes.find(e=>e.id===parseInt(t)),o=e.bedroomTypes.find(t=>t.id===parseInt(s));return i.rooms_count-o.rooms_count});o=o.map(t=>e.bedroomTypes.find(e=>e.id===parseInt(t)).name),i+=this.stringifyResult(o),s.push({type:"beds",title:i,value:t.beds,priority:this.tagPriorities.beds})}if(t.bathrooms.length){let e="Baths: ",i=t.bathrooms.sort((t,e)=>t-e);e+=this.stringifyResult(i),s.push({type:"bathrooms",title:e,value:t.bathrooms,priority:this.tagPriorities.bathrooms})}if(t.price){const e=n(t.price.min),i=n(t.price.max);s.push({type:"price",title:`Price: ${e} - ${i}`,value:t.price,priority:this.tagPriorities.price})}if(t.moveInDate&&s.push({type:"moveInDate",title:"Move In: "+c(t.moveInDate),value:t.moveInDate,priority:this.tagPriorities.moveInDate}),t.buildingTypes.length){let i="Building: ",o=t.buildingTypes.map(t=>e.buildingTypes.find(e=>e.id===t).name);i+=this.stringifyResult(o),s.push({type:"buildingTypes",title:i,value:t.buildingTypes,priority:this.tagPriorities.buildingTypes})}if(t.location.length){let i=t.location;e.regions.forEach(o=>{const r=y.getNeighborhoodsByRegionId(o.id,e.neighborhoods),a=r.map(t=>t.id);r.filter(e=>!t.location.includes(e.id)).length||(s.push({type:"locationAll",title:`${o.name}: All`,value:a,priority:this.tagPriorities.locationAll}),i=i.filter(t=>!a.includes(t)))}),i.forEach(t=>{const i=y.getNeighborhoodById(t,e.neighborhoods);i&&s.push({type:"location",title:i.name,value:i.id,priority:this.tagPriorities.location})})}return s.sort((t,e)=>{let s=t.priority-e.priority;return 0!==s?s:t.title.toLowerCase()>e.title.toLowerCase()?1:-1})}stringifyResult(t){if(1===t.length)return t.join("");if(2===t.length)return t.join(" or ");if(t.length>2){let e=t.pop(),s=t.join(", ");return s+=" or "+e}return""}},C=class{constructor(e){t(this,e),this.hideSearchButton=!1,this.hideSearch=!1,this.store=s(this,"store")}componentWillLoad(){this.store.mapStateToProps(this,t=>{const{search:{displayFilter:e},screenSize:{isMobile:s}}=t,i=p.getAllFilters(t),o={neighborhoods:g.getNeighborhoods(t),regions:g.getRegions(t),bedroomTypes:g.getBedroomTypes(t),buildingTypes:g.getBuildingTypes(t)};return{displayFilter:e,isMobile:s,filterTags:w.getPrioritizedTags(i,o),wishlist:b.getWishlist(t)}}),this.store.mapDispatchToProps(this,{toggleSearchFilterDisplay:f})}async openMenu(t){this.isMobile?this.openMobileMenu():this.openDesktopMenu(t)}async openMobileMenu(){const t=Object.assign(document.createElement("apt212-slideover"),{component:"app-menu-mobile",componentProps:{inModal:!0}});t.classList.add("site-menu"),document.body.appendChild(t)}async openDesktopMenu(t){m.siteMenu()}async launchMobileFilterMenu(){const t=Object.assign(document.createElement("ion-modal"),{component:"mobile-filter-menu",cssClass:"app-menu"});return document.body.appendChild(t),t.present()}activateSearch(){this.isMobile?this.launchMobileFilterMenu():a.forward(a.getRoute("search"))}showSearchFilters(){return!this.hideSearch&&(this.displayFilter||this.hideSearchButton||this.isMobile&&this.filterTags.length)}render(){return[e("header",null,e("div",{class:"header-inner"},e("div",{class:"app-header section"},e("ion-router-link",{href:"/",class:"logo-link"},e("img",{src:"/assets/images/logo-black.svg",class:"logo",alt:"APT212 Logo"})),e("ion-router-link",{href:"/wishlist",class:"mobile-wishlist"},e("ion-icon",{src:"/assets/images/icons/heart_icon.svg"}),this.wishlist.length?` | ${this.wishlist.length}`:null),this.hideSearchButton||this.hideSearch?null:e("button",{class:"search","aria-label":"Search",onClick:()=>{this.activateSearch()}},e("svg",{class:"feather feather-search",viewBox:"0 0 25 24",version:"1.1"},e("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},e("path",{d:"M24,21.1886008 L18.6803754,15.9186997 C19.949079,14.3099652 20.6588954,12.3179013 20.6588954,10.238277 C20.6588954,5.14393658 16.472729,1 11.3303363,1 C6.18621089,1 2,5.14393658 2,10.238277 C2,15.3308573 6.18616646,19.4765539 11.3303363,19.4765539 C13.3071236,19.4765539 15.2318387,18.8457674 16.8196842,17.7010588 L22.1704099,23 L24,21.1886008 Z M11.3302919,16.9140717 C7.61273046,16.9140717 4.58934605,13.9182757 4.58934605,10.238365 C4.58934605,6.55849823 7.61268603,3.56265825 11.3302919,3.56265825 C15.0461205,3.56265825 18.0694605,6.55845423 18.0694605,10.238365 C18.0694605,12.2063608 17.1982293,14.0643123 15.6796059,15.3379854 C14.4664401,16.3537734 12.9218251,16.9140717 11.3302919,16.9140717 Z",fill:"#000000"}))),"Search Apartments"),e("div",{class:"header-center"}),e("div",{class:"header-right"},e("ion-router-link",{href:"/wishlist",class:"nav"},"Wish List",this.wishlist.length?` | ${this.wishlist.length}`:null),e("ion-button",{"aria-label":"Speak to an expert",class:"call",onClick:()=>m.contactUs()},e("ion-icon",{name:"call"}),"Speak to an expert"),e("ion-button",{"aria-label":"Menu",fill:"clear",class:"menu reset",onClick:t=>this.openMenu(t)},e("ion-icon",{"aria-label":"Menu",src:"/assets/images/icons/hamburger.svg",slot:"icon-only"})))),e("div",{class:"search-filters-wrapper"},this.showSearchFilters()?e("search-filters",{closeable:!this.hideSearchButton}):"")))]}get el(){return i(this)}static get style(){return".app-header{position:relative}.app-header .search{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-align:left;background:transparent;border:0;margin:-2px 0 0 0;padding:0 1rem;text-transform:uppercase;font-size:0;width:auto}\@media (min-width:1200px){.app-header .search{margin:0 0 0 2.25rem}}.app-header .search .feather{width:22px;height:22px}\@media (min-width:1200px){.app-header .search .feather{width:1rem;margin-right:.5rem}}\@media (min-width:1200px){.app-header .search{width:100%;max-width:365px;margin-right:2rem;font-size:14px;font-weight:400;height:48px;-webkit-box-shadow:0 0 11px 0 hsla(0,0%,52.5%,.22);box-shadow:0 0 11px 0 hsla(0,0%,52.5%,.22)}}.app-header .header-right{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.app-header .nav{display:none;padding-right:3.5rem}\@media (min-width:1200px){.app-header .nav{display:inline-block;font-size:20px;font-weight:400}}.app-header .mobile-wishlist{margin-top:-4px;font-size:18px;padding-left:.5rem;padding-right:.5rem;font-weight:700}.app-header .mobile-wishlist ion-icon{font-size:22px;vertical-align:middle}\@media (min-width:1200px){.app-header .mobile-wishlist{display:none}}.app-header .call{display:none;font-size:12px;font-weight:700;height:48px}.app-header .call ion-icon{padding-right:.5rem}\@media (min-width:1200px){.app-header .call{display:inline-block}}\@media (min-width:1200px){.header-inner .search-filters-wrapper{position:absolute;bottom:-56px}}"}},T=class{constructor(e){t(this,e),this.componentProps={},this.styleOverride={},this.rendered=!1,this.initialized=!1}async dismiss(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.getWrapper().classList.remove("active"),setTimeout(()=>{this.el.remove()},250)}overlayDismiss(t){t.target&&t.target.classList.contains("overlay")&&this.dismiss()}getWrapper(){return this.el.querySelector(".slideover")}getStyle(){let t={};return Object.assign(t,this.styleOverride)}getClass(){return{"apt212-slideover":!0,overlay:!0}}mutationObserved(){let t=this.getWrapper().getBoundingClientRect();t.width>2&&t.height>2&&(this.mutationObserver.disconnect(),this.mutationObserver=null,this.getWrapper().classList.add("initialized"),setTimeout(()=>{this.getWrapper().classList.add("active"),this.rendered=!0},0))}componentDidRender(){this.mutationObserver=new MutationObserver(()=>this.mutationObserved()),this.mutationObserver.observe(this.getWrapper(),{attributes:!1,childList:!0,subtree:!0});const t=Object.assign(document.createElement(this.component),this.componentProps);this.el.querySelector(".content").appendChild(t)}render(){return e(o,null,e("div",{class:this.getClass(),onClick:t=>this.overlayDismiss(t)},e("div",{class:"slideover",style:this.getStyle()},e("div",{class:"slideover-header"},e("ion-button",{"aria-label":"close",class:"reset close",onClick:()=>this.dismiss()},e("ion-icon",{src:"/assets/images/icons/cancel.svg",slot:"icon-only"}))),e("div",{class:"content"}))))}get el(){return i(this)}static get style(){return".apt212-slideover{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:2147483646!important}.apt212-slideover .slideover-header{text-align:right}.apt212-slideover .slideover{position:absolute;width:286px;height:100%;top:0;right:-286px;background-color:#fff;opacity:0;-webkit-transition:right .25s ease;transition:right .25s ease}.apt212-slideover .slideover.initialized{opacity:1}.apt212-slideover .slideover.initialized.active{right:0}.apt212-slideover .slideover .content{height:100%;overflow:auto;padding-bottom:3rem}.apt212-slideover .app-menu-mobile .main-menu button.expandable,.apt212-slideover .app-menu-mobile .main-menu ion-router-link{border:none}.apt212-slideover .app-menu-mobile .main-menu button.expandable:after,.apt212-slideover .app-menu-mobile .main-menu ion-router-link:after{height:0}"}},L=class{constructor(e){t(this,e),this.store=s(this,"store")}componentWillLoad(){this.store.mapDispatchToProps(this,{clearSearchFilter:v})}render(){return e("div",{class:"filter-tag-component"},this.tag.title,e("button",{"aria-label":`Remove Filter: ${this.tag.title}`,class:"button-reset",onClick:()=>this.clearSearchFilter(this.tag.type,this.tag.value)},e("img",{src:"/assets/images/icons/cancel.svg"})))}static get style(){return".filter-tag-component{display:inline-block;background-color:rgba(5,115,101,.2);font-size:10px;height:20px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding:0 .25rem;border-radius:12.5px;margin:3px .5rem 3px 0}\@media (min-width:1200px){.filter-tag-component{height:24px;padding:0 .75rem;border-radius:15px;font-size:12px}}.filter-tag-component button{padding-left:.5rem;padding-top:3px}.filter-tag-component button img{width:10px}\@media (min-width:1200px){.filter-tag-component button img{font-size:12px}}"}},S=class{constructor(e){t(this,e),this.tags=[],this.showAllTags=r(this,"showAllTags",7),this.store=s(this,"store")}componentDidLoad(){this.store.mapStateToProps(this,t=>{const e={neighborhoods:g.getNeighborhoods(t),regions:g.getRegions(t),bedroomTypes:g.getBedroomTypes(t),buildingTypes:g.getBuildingTypes(t)},s=p.getAllFilters(t);return{tags:w.getPrioritizedTags(s,e),screenWidth:t.screenSize.width,searchResultsCount:u.getListingsCount(t)}}),this.store.mapDispatchToProps(this,{clearSearchFilter:v})}async showFiltersPopover(t){const e=Object.assign(document.createElement("apt212-popover"),{component:"filter-tags-all",styleOverride:{width:"491px"},bindTo:{target:"top right",popover:"top right"},target:t.currentTarget});document.body.appendChild(e)}majorlyFuckWithTheDom(){const t=this.el.querySelector(".filter-tags-component"),e=this.el.querySelector(".tags"),s=this.el.querySelector("button.show-all"),i=this.el.querySelector(".morecount"),o=t.clientWidth;let r=[];const a=this.el.querySelectorAll(".tag-measurement filter-tag");a.forEach(t=>{t.classList.remove("hidden");const e=t.className.split(" ");r=[...r,{class:e.find(t=>t.startsWith("tag-")),width:t.clientWidth}]});const l=r.reduce((t,e)=>t+e.width,0);if(o<l){const t=this.el.querySelector(".tags").clientWidth-5;let e=0;a.forEach(s=>{const i=s.clientWidth;t<e+i?s.classList.add("hidden"):e+=i})}let n=!1;const c=this.el.querySelectorAll(".tag-measurement filter-tag:not(.hidden)"),h=this.el.querySelectorAll(".tags filter-tag");let d=[],m=[];c.forEach(t=>{const e=t.getAttribute("data-text"),s=t.className.split(" ").find(t=>t.startsWith("tag-"));e&&(d=[...d,e],m=[...m,s])});let p=[];if(h.forEach(t=>{const e=t.getAttribute("data-text");e&&(p=[...p,e])}),d.length!==p.length)n=!0;else{let t=d.length;for(;t--;)d[t]!==p[t]&&(n=!0)}n&&(e.innerHTML="",d.forEach((t,s)=>{const i=Object.assign(document.createElement("filter-tag"),{tag:this.tags[parseInt(m[s].replace("tag-",""))]});i.setAttribute("data-text",t),e.appendChild(i)})),o<l?s.classList.add("visible"):s.classList.remove("visible"),i.innerText=this.el.querySelectorAll(".tag-measurement filter-tag.hidden").length}componentDidRender(){this.majorlyFuckWithTheDom()}render(){return e("div",{class:"filter-tags-component"},e("div",{class:"tags"}),e("div",{class:"controls"},e("div",{class:"show-all-mobile"},this.searchResultsCount," ",1===this.searchResultsCount?"Result":"Results"),this.tags.length>0?e("button",{"aria-label":"Clear Filters",class:"button-reset clear-filters",onClick:()=>{this.clearSearchFilter("all")}},"Clear"):null,this.tags.length>0?e("button",{"aria-label":"Show all filters",class:"button-reset show-all-mobile",onClick:()=>{this.showAllTags.emit()}},this.tags.length," Filter",1===this.tags.length?"":"s"):null,e("button",{"aria-label":"Show all filters",class:"button-reset show-all",onClick:t=>{this.showFiltersPopover(t)}},e("span",{class:"morecount"},"00")," More")),e("div",{class:"tag-measurement"},this.tags.map((t,s)=>{const i={};return i[`tag-${s}`]=!0,e("filter-tag",{tag:t,class:i,"data-text":t.title})})))}get el(){return i(this)}static get style(){return".filter-tags-component{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}.filter-tags-component.initialized{visibility:visible}.filter-tags-component .tags{display:none;width:100%;text-align:right;overflow:hidden}\@media (min-width:1200px){.filter-tags-component .tags{display:block}}.filter-tags-component .tags filter-tag{display:inline-block}.filter-tags-component .tags filter-tag.hidden{display:none}.filter-tags-component .controls{display:-ms-flexbox;display:flex}.filter-tags-component .controls button{white-space:nowrap}.filter-tags-component .controls .clear-filters{padding-left:1rem;padding-right:1rem;text-decoration:none}\@media (min-width:1200px){.filter-tags-component .controls .clear-filters,.filter-tags-component .controls .show-all-mobile{display:none}}.filter-tags-component .controls .show-all{display:none}\@media (min-width:1200px){.filter-tags-component .controls .show-all.visible{display:inline-block}}.filter-tags-component .tag-measurement{position:absolute;margin-top:-400px;visibility:hidden}.filter-tags-component .tag-measurement filter-tag{display:inline-block}"}};!function(t,e,s,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,s,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(a=(r<3?o(a):r>3?o(e,s,a):o(e,s))||a);r>3&&a&&Object.defineProperty(e,s,a)}([l(100)],S.prototype,"majorlyFuckWithTheDom",null);const j=class{constructor(e){t(this,e),this.tags=[],this.store=s(this,"store")}componentWillLoad(){this.store.mapStateToProps(this,t=>{const e=p.getAllFilters(t),s={neighborhoods:g.getNeighborhoods(t),regions:g.getRegions(t),bedroomTypes:g.getBedroomTypes(t),buildingTypes:g.getBuildingTypes(t)};return{tags:w.getPrioritizedTags(e,s)}})}componentDidRender(){if(!this.tags.length){const t=this.el.closest("apt212-popover");t&&t.dismiss()}}render(){return e("div",{class:"filter-tags-all-component"},this.tags.map(t=>e("filter-tag",{tag:t})))}get el(){return i(this)}static get style(){return".filter-tags-all-component{padding:1rem}"}},E=class{constructor(e){t(this,e),this.closeable=!0,this.tags=[],this.showAllTags=!1,this.store=s(this,"store")}componentDidLoad(){this.store.mapStateToProps(this,t=>{const e=p.getAllFilters(t),s={neighborhoods:g.getNeighborhoods(t),regions:g.getRegions(t),bedroomTypes:g.getBedroomTypes(t),buildingTypes:g.getBuildingTypes(t)};return{tags:w.getPrioritizedTags(e,s)}}),this.store.mapDispatchToProps(this,{toggleSearchFilterDisplay:f})}async showFilterOptions(t,e){const s=Object.assign(document.createElement("apt212-popover"),{component:e,componentProps:{inModal:!0},target:t.currentTarget});document.body.appendChild(s)}async launchMobileFilterMenu(){const t=Object.assign(document.createElement("ion-modal"),{component:"mobile-filter-menu",cssClass:"app-menu"});return document.body.appendChild(t),t.present()}render(){return e(o,null,e("div",{class:"search-filters"},e("div",{class:"section"},e("button",{"aria-label":"Market filter",class:"button-reset dropdown",onClick:t=>this.showFilterOptions(t,"market-filter")},"Market",e("ion-icon",{mode:"md",name:"md-arrow-dropdown"})),e("button",{"aria-label":"Location filter",class:"button-reset dropdown",onClick:t=>this.showFilterOptions(t,"location-filter")},"Location",e("ion-icon",{mode:"md",name:"md-arrow-dropdown"})),e("button",{"aria-label":"Move in date filter",class:"button-reset dropdown",onClick:t=>this.showFilterOptions(t,"move-in-date-filter")},"Move In Date",e("ion-icon",{mode:"md",name:"md-arrow-dropdown"})),e("button",{"aria-label":"Price filter",class:"button-reset dropdown",onClick:t=>this.showFilterOptions(t,"price-filter")},"Price",e("ion-icon",{mode:"md",name:"md-arrow-dropdown"})),e("button",{"aria-label":"Bedrooms filter",class:"button-reset dropdown",onClick:t=>this.showFilterOptions(t,"bedroom-filter")},"Beds",e("ion-icon",{mode:"md",name:"md-arrow-dropdown"})),e("button",{"aria-label":"Bathrooms filter",class:"button-reset dropdown",onClick:t=>this.showFilterOptions(t,"bathroom-filter")},"Baths",e("ion-icon",{mode:"md",name:"md-arrow-dropdown"})),e("button",{"aria-label":"Building types filter",class:"button-reset dropdown",onClick:t=>this.showFilterOptions(t,"building-type-filter")},"Building Type",e("ion-icon",{mode:"md",name:"md-arrow-dropdown"})),this.closeable?e("ion-button",{"aria-label":"Search",class:"search",href:a.getRoute("search")},"Search"):null,e("ion-button",{"aria-label":"Search Filters",class:"reset mobile-filters",onClick:()=>this.launchMobileFilterMenu()},e("ion-icon",{mode:"md",name:"md-funnel",slot:"start"}),"Filter"),e("filter-tags",{onShowAllTags:()=>{this.showAllTags=!this.showAllTags}}),this.closeable?e("button",{"aria-label":"Close Filters",class:"button-reset close",onClick:()=>this.toggleSearchFilterDisplay(!1)},e("ion-icon",{mode:"md",name:"md-close",slot:"icon-only"})):null)),this.showAllTags&&this.tags.length?e("div",{class:"filter-tags-all"},e("filter-tags-all",null)):null)}static get style(){return".search-filters{-webkit-box-shadow:none;box-shadow:none;height:56px}.search-filters .section{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%;padding-left:10px}\@media (min-width:1200px){.search-filters .section{padding-left:1.5rem}}.search-filters .section .dropdown{display:none;position:relative;margin-right:2.8rem;height:100%}\@media (min-width:1200px){.search-filters .section .dropdown{display:inline-block;white-space:nowrap}}.search-filters .section .dropdown ion-icon{padding-left:.5rem;vertical-align:text-bottom}.search-filters .section .dropdown:after{content:\"\";display:block;width:100%;height:100%;position:absolute;top:0}.search-filters .section .search{display:none;font-size:12px;font-weight:700}\@media (min-width:1200px){.search-filters .section .search{display:inline-block}}.search-filters .section .mobile-filters{font-size:16px;--padding-start:0.5rem}\@media (min-width:1200px){.search-filters .section .mobile-filters{display:none}}.search-filters .section .spacer{-ms-flex-positive:1;flex-grow:1}.search-filters .section .close{display:none;font-size:24px;padding-top:3px;margin-left:1rem}\@media (min-width:1200px){.search-filters .section .close{display:inline-block}}.search-filters filter-tags{-ms-flex-positive:1;flex-grow:1;-ms-flex-pack:end;justify-content:flex-end;width:100%}\@media (min-width:1200px){.filter-tags-all{display:none}}"}};export{k as app_footer,C as app_header,T as apt212_slideover,L as filter_tag,S as filter_tags,j as filter_tags_all,E as search_filters};