import{r as s,h as i,d as t}from"./p-f5b6b644.js";import"./p-74149bb1.js";import{g as e}from"./p-08706a58.js";import{G as a}from"./p-1ba2ed3c.js";const l=class{constructor(i){s(this,i),this.description="",this.title="",this.sliderClass="glide"}componentWillLoad(){this.sliderClass+="-"+e(8)}componentDidLoad(){setTimeout(()=>{this.initializeSlider()},100)}initializeSlider(){this.title=this.selected.title,this.description=this.selected.description,document.querySelectorAll("."+this.sliderClass+" .glide__slide").length&&(this.glide=new a("."+this.sliderClass,{type:"carousel",perView:12,gap:8,focusAt:0,startAt:0,bound:!0,rewind:!1,breakpoints:{600:{perView:6,startAt:0,focusAt:0}}}),this.glide.on("build.after",()=>{let s=document.querySelector("."+this.sliderClass+" .glide__track"),i=document.querySelectorAll("."+this.sliderClass+" .glide__slide");if(!s&&!i)return;let t=s.offsetHeight;i.forEach(s=>{t=Math.max(t,s.offsetHeight)}),t!=s.offsetHeight&&(s.style.height=t+"px")}),this.glide.mount())}slideClick(s){const i=s.target;"IMG"==i.tagName&&i.classList.contains("lazy-image")&&this.el.querySelector(".image-view img").setAttribute("src",i.src)}changeImage(s){if(this.images.length<=1)return;const i=this.el.querySelector(".display-image"),t=i.getAttribute("src"),e=this.images.findIndex(s=>s.original===t);let a=0;">"===s?e!==this.images.length-1&&(a=e+1):a=0===e?this.images.length-1:e-1,this.glide.go("="+a),i.setAttribute("src",this.images[a].original),this.description=this.images[a].description,this.title=this.images[a].title}close(){const s=this.el.closest("ion-modal");s&&s.dismiss()}render(){return i("div",{class:"page-listing-image-modal-component"},i("ion-button",{"aria-label":"close",fill:"clear",class:"close reset",onClick:()=>this.close()},i("ion-icon",{src:"/assets/images/icons/cancel-white.svg",slot:"icon-only"})),i("div",{class:"image-view"},i("img",{src:this.selected.original,class:"display-image",alt:this.title}),i("button",{"aria-label":"Previous image",class:"button-reset arrow-left",onClick:()=>this.changeImage("<")},i("img",{src:"/assets/images/icons/listing_gallery_slider_arrow.svg",alt:""})),i("button",{"aria-label":"Next image",class:"button-reset arrow-right",onClick:()=>this.changeImage(">")},i("img",{src:"/assets/images/icons/listing_gallery_slider_arrow.svg",alt:""}))),i("div",{class:"description"},this.description),i("div",{class:"glide "+this.sliderClass,onClick:s=>this.slideClick(s)},i("div",{class:"glide__track","data-glide-el":"track"},i("ul",{class:"glide__slides"},this.images.map(s=>i("li",{class:"glide__slide"},i("lazy-image",{src:s.original,class:"slider__img",alt:s.title}))))),i("div",{class:"glide__arrows","data-glide-el":"controls"},i("button",{"aria-label":"Previous slide",class:"glide__arrow glide__arrow--left","data-glide-dir":"<"},i("img",{src:"/assets/images/icons/listing_gallery_slider_arrow.svg"})),i("button",{"aria-label":"Next slide",class:"glide__arrow glide__arrow--right","data-glide-dir":">"},i("img",{src:"/assets/images/icons/listing_gallery_slider_arrow.svg"})))))}get el(){return t(this)}static get style(){return".glide{position:relative;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.glide *{-webkit-box-sizing:inherit;box-sizing:inherit}.glide__slides,.glide__track{overflow:hidden}.glide__slides{position:relative;width:100%;list-style:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-ms-touch-action:pan-Y;touch-action:pan-Y;padding:0;white-space:nowrap;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;will-change:transform}.glide__slide,.glide__slides--dragging{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.glide__slide{width:100%;height:100%;-ms-flex-negative:0;flex-shrink:0;white-space:normal;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}.glide__slide a{-webkit-user-select:none;user-select:none;-webkit-user-drag:none;-moz-user-select:none;-ms-user-select:none}.glide__arrows,.glide__bullets{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.glide--rtl{direction:rtl}.glide__arrow{position:absolute;display:block;top:50%;z-index:2;color:#fff;text-transform:uppercase;padding:9px 12px;background-color:transparent;border:2px solid hsla(0,0%,100%,.5);border-radius:4px;-webkit-box-shadow:0 .25em .5em 0 rgba(0,0,0,.1);box-shadow:0 .25em .5em 0 rgba(0,0,0,.1);text-shadow:0 .25em .5em rgba(0,0,0,.1);opacity:1;cursor:pointer;-webkit-transition:opacity .15s ease,border .3s ease-in-out;transition:opacity .15s ease,border .3s ease-in-out;-webkit-transform:translateY(-50%);transform:translateY(-50%);line-height:1}.glide__arrow:focus{outline:none}.glide__arrow:hover{border-color:#fff}.glide__arrow--left{left:2em}.glide__arrow--right{right:2em}.glide__arrow--disabled{opacity:.33}.glide__bullets{position:absolute;z-index:2;bottom:2em;left:50%;display:-ms-inline-flexbox;display:inline-flex;list-style:none;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.glide__bullet{background-color:hsla(0,0%,100%,.5);width:9px;height:9px;padding:0;border-radius:50%;border:2px solid transparent;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;cursor:pointer;line-height:0;-webkit-box-shadow:0 .25em .5em 0 rgba(0,0,0,.1);box-shadow:0 .25em .5em 0 rgba(0,0,0,.1);margin:0 .25em}.glide__bullet:focus{outline:none}.glide__bullet:focus,.glide__bullet:hover{border:2px solid #fff;background-color:hsla(0,0%,100%,.5)}.glide__bullet--active{background-color:#fff}.glide--swipeable{cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.glide--dragging{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.page-listing-image-modal-component{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:24px;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;background-color:rgba(0,0,0,.8);width:100%;height:100%}\@media (min-width:1200px){.page-listing-image-modal-component{padding:84px}}.page-listing-image-modal-component .image-view{position:relative;width:100%;height:80%}.page-listing-image-modal-component .image-view img{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.page-listing-image-modal-component .image-view button{position:absolute;top:calc(50% - 28px);left:0}.page-listing-image-modal-component .image-view button.arrow-right{left:auto;right:0}.page-listing-image-modal-component .image-view button.arrow-right img{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.page-listing-image-modal-component .glide__arrow--left{left:0;border:0;-webkit-box-shadow:none;box-shadow:none}.page-listing-image-modal-component .glide__arrow--right{right:0;border:0;-webkit-box-shadow:none;box-shadow:none}.page-listing-image-modal-component .glide__arrow--right img{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.page-listing-image-modal-component .close{position:absolute;top:10px;right:10px;font-size:25px;color:#fff;z-index:1;--padding-end:0}\@media (min-width:1200px){.page-listing-image-modal-component .close{top:33px;right:75px}}.page-listing-image-modal-component .description{color:#fff}"}};export{l as page_listing_image_modal};