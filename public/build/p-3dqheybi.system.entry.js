var __awaiter=this&&this.__awaiter||function(e,r,t,n){function a(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,l){function s(e){try{o(n.next(e))}catch(e){l(e)}}function i(e){try{o(n["throw"](e))}catch(e){l(e)}}function o(e){e.done?t(e.value):a(e.value).then(s,i)}o((n=n.apply(e,r||[])).next())}))};var __generator=this&&this.__generator||function(e,r){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,a,l,s;return s={next:i(0),throw:i(1),return:i(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function i(e){return function(r){return o([e,r])}}function o(s){if(n)throw new TypeError("Generator is already executing.");while(t)try{if(n=1,a&&(l=s[0]&2?a["return"]:s[0]?a["throw"]||((l=a["return"])&&l.call(a),0):a.next)&&!(l=l.call(a,s[1])).done)return l;if(a=0,l)s=[s[0]&2,l.value];switch(s[0]){case 0:case 1:l=s;break;case 4:t.label++;return{value:s[1],done:false};case 5:t.label++;a=s[1];s=[0];continue;case 7:s=t.ops.pop();t.trys.pop();continue;default:if(!(l=t.trys,l=l.length>0&&l[l.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!l||s[1]>l[0]&&s[1]<l[3])){t.label=s[1];break}if(s[0]===6&&t.label<l[1]){t.label=l[1];l=s;break}if(l&&t.label<l[2]){t.label=l[2];t.ops.push(s);break}if(l[2])t.ops.pop();t.trys.pop();continue}s=r.call(e,t)}catch(e){s=[6,e];a=0}finally{n=l=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};System.register(["./p-c9001ae9.system.js","./p-69f5d316.system.js","./p-32fd337e.system.js","./p-fb64dbc4.system.js","./p-f1f8d54f.system.js","./p-523bf5f5.system.js","./p-70201690.system.js","./p-8a6f03fc.system.js","./p-2a28951d.system.js"],(function(e){"use strict";var r,t,n,a,l,s,i;return{setters:[function(e){r=e.r;t=e.h},function(){},function(){},function(){},function(e){n=e.s},function(e){a=e.I},function(e){l=e.L},function(e){s=e.A},function(e){i=e.T}],execute:function(){var o=e("referral_form",function(){function e(e){r(this,e);this.submitted=false;this.errors=[]}e.prototype.handleSubmit=function(e){return __awaiter(this,void 0,void 0,(function(){var r,t;return __generator(this,(function(a){switch(a.label){case 0:e.preventDefault();r=n(this.form,{hash:true,empty:true});this.checkErrors(r);if(this.errors.length){return[2]}return[4,l.showLoading()];case 1:a.sent();a.label=2;case 2:a.trys.push([2,4,,5]);return[4,s.sendReferral(r)];case 3:a.sent();this.submitted=true;return[3,5];case 4:t=a.sent();i.error(t.message);return[3,5];case 5:return[4,l.hideLoading()];case 6:a.sent();return[2]}}))}))};e.prototype.checkErrors=function(e){var r=[];var t=["referrer_name","referrer_email","referral_name","referral_email"];t.forEach((function(t){if(!e[t]){r.push(t)}}));if(e.referrer_email&&!a.validate(e.referrer_email)){r.push("referrer_email")}if(e.referral_email&&!a.validate(e.referral_email)){r.push("referral_email")}this.errors=r};e.prototype.render=function(){var e=this;return t("form",{onSubmit:function(r){return e.handleSubmit(r)},class:"referral-form-component",ref:function(r){return e.form=r}},t("div",{class:{"form-content":true,submitted:this.submitted}},t("h3",null,"YOUR INFORMATION"),t("div",{class:{input:true,error:this.errors.includes("referrer_name")}},t("label",{htmlFor:"referrer-name",class:"sr-only"},"Name"),t("input",{id:"referrer-name",type:"text",class:"apt212-input block",placeholder:"Name",name:"referrer_name"})),t("div",{class:{input:true,error:this.errors.includes("referrer_phone")}},t("label",{htmlFor:"referrer-phone",class:"sr-only"},"Phone Number (Optional)"),t("input",{id:"referrer-phone",type:"text",class:"apt212-input block",placeholder:"Phone Number (Optional)",name:"referrer_phone"})),t("div",{class:{input:true,error:this.errors.includes("referrer_email")}},t("label",{htmlFor:"referrer-email",class:"sr-only"},"Email Address"),t("input",{id:"referrer-email",type:"email",class:"apt212-input block",placeholder:"Email Address",name:"referrer_email"})),t("h3",null,"REFERRAL's INFORMATION"),t("div",{class:{input:true,error:this.errors.includes("referral_name")}},t("label",{htmlFor:"referral-name",class:"sr-only"},"Referral Name"),t("input",{id:"referral-name",type:"text",class:"apt212-input block",placeholder:"Referral Name",name:"referral_name"})),t("div",{class:{input:true,error:this.errors.includes("referral_phone")}},t("label",{htmlFor:"referral-phone",class:"sr-only"},"Referral Phone Number (Optional)"),t("input",{id:"referral-phone",type:"text",class:"apt212-input block",placeholder:"Referral Phone Number (Optional)",name:"referral_phone"})),t("div",{class:{input:true,error:this.errors.includes("referral_email")}},t("label",{htmlFor:"referral-email",class:"sr-only"},"Referral Email Address"),t("input",{id:"referral-email",type:"email",class:"apt212-input block",placeholder:"Referral Email Address",name:"referral_email"})),t("div",{class:"input"},t("input",{type:"submit",class:"button-dark block",value:"SUBMIT"}))),this.submitted?t("div",{class:"thank-you-msg flex-vertical-center text-center"},t("div",null,t("p",null,"Thank you. ",t("br",null),"Your referral has now been sent."),t("ion-icon",{name:"md-checkmark"}))):null)};Object.defineProperty(e,"style",{get:function(){return".referral-form-component{position:relative}.referral-form-component h3{padding-bottom:16px}.referral-form-component .form-content.submitted{visibility:hidden}.referral-form-component .thank-you-msg{position:absolute;top:0;left:0;width:100%;height:100%;-ms-flex-pack:center;justify-content:center}.referral-form-component .thank-you-msg p{font-size:32px;font-weight:700;line-height:1.5}.referral-form-component .thank-you-msg ion-icon{font-size:120px;color:#057365}.referral-form-component .error label{color:red}"},enumerable:true,configurable:true});return e}())}}}));